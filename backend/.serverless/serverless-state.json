{
  "service": {
    "service": "ehr-backend-api",
    "serviceObject": {
      "name": "ehr-backend-api"
    },
    "provider": {
      "name": "aws",
      "runtime": "nodejs20.x",
      "region": "ap-southeast-1",
      "stage": "dev",
      "memorySize": 512,
      "timeout": 30,
      "environment": {
        "USER_POOL_ID": "ap-southeast-1_KAphl41fW",
        "CLIENT_ID": "56ikumm3gld5ln6utag70vf781",
        "REGION": "ap-southeast-1",
        "DB_HOST": "ehr-system-db.c1keewkss49f.ap-southeast-1.rds.amazonaws.com",
        "DB_PORT": "5432",
        "DB_NAME": "ehr_production",
        "DB_USER": "postgres",
        "DB_PASSWORD": "EhrAdmin2025!",
        "JWT_SECRET": "EHR_SYSTEM_WEBAUTHN_SECRET_KEY_2025_SECURE_TOKEN_CHANGE_IN_PRODUCTION",
        "WEBAUTHN_RP_ID": "localhost",
        "WEBAUTHN_ORIGIN": "http://localhost:3000",
        "NODE_ENV": "development",
        "DB_SSL": "true"
      },
      "iam": {
        "role": {
          "statements": [
            {
              "Effect": "Allow",
              "Action": [
                "ses:SendEmail",
                "ses:SendRawEmail"
              ],
              "Resource": "*"
            },
            {
              "Effect": "Allow",
              "Action": [
                "cognito-idp:AdminGetUser",
                "cognito-idp:ListUsers",
                "cognito-idp:AdminCreateUser",
                "cognito-idp:AdminAddUserToGroup",
                "cognito-idp:AdminDisableUser",
                "cognito-idp:AdminSetUserPassword",
                "cognito-idp:AdminInitiateAuth",
                "cognito-idp:AdminRespondToAuthChallenge",
                "cognito-idp:AdminListGroupsForUser"
              ],
              "Resource": "arn:aws:cognito-idp:ap-southeast-1:*:userpool/ap-southeast-1_KAphl41fW"
            },
            {
              "Effect": "Allow",
              "Action": [
                "secretsmanager:GetSecretValue"
              ],
              "Resource": "arn:aws:secretsmanager:ap-southeast-1:*:secret:ehr-system/*"
            },
            {
              "Effect": "Allow",
              "Action": [
                "logs:CreateLogGroup",
                "logs:CreateLogStream",
                "logs:PutLogEvents"
              ],
              "Resource": "*"
            }
          ]
        }
      },
      "httpApi": {
        "cors": {
          "allowedOrigins": [
            "*"
          ],
          "allowedHeaders": [
            "Content-Type",
            "Authorization"
          ],
          "allowedMethods": [
            "GET",
            "POST",
            "PUT",
            "DELETE",
            "OPTIONS"
          ]
        }
      },
      "versionFunctions": true,
      "compiledCloudFormationTemplate": {
        "AWSTemplateFormatVersion": "2010-09-09",
        "Description": "The AWS CloudFormation template for this Serverless application",
        "Resources": {
          "ServerlessDeploymentBucket": {
            "Type": "AWS::S3::Bucket",
            "Properties": {
              "BucketEncryption": {
                "ServerSideEncryptionConfiguration": [
                  {
                    "ServerSideEncryptionByDefault": {
                      "SSEAlgorithm": "AES256"
                    }
                  }
                ]
              }
            }
          },
          "ServerlessDeploymentBucketPolicy": {
            "Type": "AWS::S3::BucketPolicy",
            "Properties": {
              "Bucket": {
                "Ref": "ServerlessDeploymentBucket"
              },
              "PolicyDocument": {
                "Statement": [
                  {
                    "Action": "s3:*",
                    "Effect": "Deny",
                    "Principal": "*",
                    "Resource": [
                      {
                        "Fn::Join": [
                          "",
                          [
                            "arn:",
                            {
                              "Ref": "AWS::Partition"
                            },
                            ":s3:::",
                            {
                              "Ref": "ServerlessDeploymentBucket"
                            },
                            "/*"
                          ]
                        ]
                      },
                      {
                        "Fn::Join": [
                          "",
                          [
                            "arn:",
                            {
                              "Ref": "AWS::Partition"
                            },
                            ":s3:::",
                            {
                              "Ref": "ServerlessDeploymentBucket"
                            }
                          ]
                        ]
                      }
                    ],
                    "Condition": {
                      "Bool": {
                        "aws:SecureTransport": false
                      }
                    }
                  }
                ]
              }
            }
          },
          "WebauthnRegisterStartLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/ehr-backend-api-dev-webauthnRegisterStart"
            }
          },
          "WebauthnRegisterFinishLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/ehr-backend-api-dev-webauthnRegisterFinish"
            }
          },
          "WebauthnAuthStartLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/ehr-backend-api-dev-webauthnAuthStart"
            }
          },
          "WebauthnAuthFinishLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/ehr-backend-api-dev-webauthnAuthFinish"
            }
          },
          "WebauthnGetCredentialsLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/ehr-backend-api-dev-webauthnGetCredentials"
            }
          },
          "WebauthnDeleteCredentialLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/ehr-backend-api-dev-webauthnDeleteCredential"
            }
          },
          "LoginLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/ehr-backend-api-dev-login"
            }
          },
          "ChangePasswordLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/ehr-backend-api-dev-changePassword"
            }
          },
          "RefreshTokenLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/ehr-backend-api-dev-refreshToken"
            }
          },
          "InitMFALogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/ehr-backend-api-dev-initMFA"
            }
          },
          "VerifyMFALogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/ehr-backend-api-dev-verifyMFA"
            }
          },
          "GetMFAStatusLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/ehr-backend-api-dev-getMFAStatus"
            }
          },
          "CreateUserLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/ehr-backend-api-dev-createUser"
            }
          },
          "ListUsersLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/ehr-backend-api-dev-listUsers"
            }
          },
          "DisableUserLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/ehr-backend-api-dev-disableUser"
            }
          },
          "ResetUserPasswordLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/ehr-backend-api-dev-resetUserPassword"
            }
          },
          "CreatePatientLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/ehr-backend-api-dev-createPatient"
            }
          },
          "GetPatientLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/ehr-backend-api-dev-getPatient"
            }
          },
          "SearchPatientsLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/ehr-backend-api-dev-searchPatients"
            }
          },
          "UpdatePatientLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/ehr-backend-api-dev-updatePatient"
            }
          },
          "GetMyProfileLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/ehr-backend-api-dev-getMyProfile"
            }
          },
          "GetMyMedicalRecordsLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/ehr-backend-api-dev-getMyMedicalRecords"
            }
          },
          "GetMyPrescriptionsLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/ehr-backend-api-dev-getMyPrescriptions"
            }
          },
          "GetMyVitalSignsLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/ehr-backend-api-dev-getMyVitalSigns"
            }
          },
          "CreateVitalSignsLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/ehr-backend-api-dev-createVitalSigns"
            }
          },
          "GetVitalSignsLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/ehr-backend-api-dev-getVitalSigns"
            }
          },
          "GetLatestVitalSignsLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/ehr-backend-api-dev-getLatestVitalSigns"
            }
          },
          "CreateMedicalRecordLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/ehr-backend-api-dev-createMedicalRecord"
            }
          },
          "GetMedicalRecordLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/ehr-backend-api-dev-getMedicalRecord"
            }
          },
          "GetMedicalRecordsByPatientLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/ehr-backend-api-dev-getMedicalRecordsByPatient"
            }
          },
          "UpdateMedicalRecordLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/ehr-backend-api-dev-updateMedicalRecord"
            }
          },
          "CreatePrescriptionLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/ehr-backend-api-dev-createPrescription"
            }
          },
          "GetPrescriptionLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/ehr-backend-api-dev-getPrescription"
            }
          },
          "GetPrescriptionsByPatientLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/ehr-backend-api-dev-getPrescriptionsByPatient"
            }
          },
          "GetAuditLogsLogGroup": {
            "Type": "AWS::Logs::LogGroup",
            "Properties": {
              "LogGroupName": "/aws/lambda/ehr-backend-api-dev-getAuditLogs"
            }
          },
          "IamRoleLambdaExecution": {
            "Type": "AWS::IAM::Role",
            "Properties": {
              "AssumeRolePolicyDocument": {
                "Version": "2012-10-17",
                "Statement": [
                  {
                    "Effect": "Allow",
                    "Principal": {
                      "Service": [
                        "lambda.amazonaws.com"
                      ]
                    },
                    "Action": [
                      "sts:AssumeRole"
                    ]
                  }
                ]
              },
              "Policies": [
                {
                  "PolicyName": {
                    "Fn::Join": [
                      "-",
                      [
                        "ehr-backend-api",
                        "dev",
                        "lambda"
                      ]
                    ]
                  },
                  "PolicyDocument": {
                    "Version": "2012-10-17",
                    "Statement": [
                      {
                        "Effect": "Allow",
                        "Action": [
                          "logs:CreateLogStream",
                          "logs:CreateLogGroup",
                          "logs:TagResource"
                        ],
                        "Resource": [
                          {
                            "Fn::Sub": "arn:${AWS::Partition}:logs:${AWS::Region}:${AWS::AccountId}:log-group:/aws/lambda/ehr-backend-api-dev*:*"
                          }
                        ]
                      },
                      {
                        "Effect": "Allow",
                        "Action": [
                          "logs:PutLogEvents"
                        ],
                        "Resource": [
                          {
                            "Fn::Sub": "arn:${AWS::Partition}:logs:${AWS::Region}:${AWS::AccountId}:log-group:/aws/lambda/ehr-backend-api-dev*:*:*"
                          }
                        ]
                      },
                      {
                        "$ref": "$[\"service\"][\"provider\"][\"iam\"][\"role\"][\"statements\"][0]"
                      },
                      {
                        "$ref": "$[\"service\"][\"provider\"][\"iam\"][\"role\"][\"statements\"][1]"
                      },
                      {
                        "$ref": "$[\"service\"][\"provider\"][\"iam\"][\"role\"][\"statements\"][2]"
                      },
                      {
                        "$ref": "$[\"service\"][\"provider\"][\"iam\"][\"role\"][\"statements\"][3]"
                      }
                    ]
                  }
                }
              ],
              "Path": "/",
              "RoleName": {
                "Fn::Join": [
                  "-",
                  [
                    "ehr-backend-api",
                    "dev",
                    {
                      "Ref": "AWS::Region"
                    },
                    "lambdaRole"
                  ]
                ]
              }
            }
          },
          "WebauthnRegisterStartLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/ehr-backend-api/dev/1766608061043-2025-12-24T20:27:41.043Z/ehr-backend-api.zip"
              },
              "Handler": "handlers/webauthn.startRegistration",
              "Runtime": "nodejs20.x",
              "FunctionName": "ehr-backend-api-dev-webauthnRegisterStart",
              "MemorySize": 512,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "USER_POOL_ID": "ap-southeast-1_KAphl41fW",
                  "CLIENT_ID": "56ikumm3gld5ln6utag70vf781",
                  "REGION": "ap-southeast-1",
                  "DB_HOST": "ehr-system-db.c1keewkss49f.ap-southeast-1.rds.amazonaws.com",
                  "DB_PORT": "5432",
                  "DB_NAME": "ehr_production",
                  "DB_USER": "postgres",
                  "DB_PASSWORD": "EhrAdmin2025!",
                  "JWT_SECRET": "EHR_SYSTEM_WEBAUTHN_SECRET_KEY_2025_SECURE_TOKEN_CHANGE_IN_PRODUCTION",
                  "WEBAUTHN_RP_ID": "localhost",
                  "WEBAUTHN_ORIGIN": "http://localhost:3000",
                  "NODE_ENV": "development",
                  "DB_SSL": "true"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "WebauthnRegisterStartLogGroup"
            ]
          },
          "WebauthnRegisterFinishLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/ehr-backend-api/dev/1766608061043-2025-12-24T20:27:41.043Z/ehr-backend-api.zip"
              },
              "Handler": "handlers/webauthn.finishRegistration",
              "Runtime": "nodejs20.x",
              "FunctionName": "ehr-backend-api-dev-webauthnRegisterFinish",
              "MemorySize": 512,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "USER_POOL_ID": "ap-southeast-1_KAphl41fW",
                  "CLIENT_ID": "56ikumm3gld5ln6utag70vf781",
                  "REGION": "ap-southeast-1",
                  "DB_HOST": "ehr-system-db.c1keewkss49f.ap-southeast-1.rds.amazonaws.com",
                  "DB_PORT": "5432",
                  "DB_NAME": "ehr_production",
                  "DB_USER": "postgres",
                  "DB_PASSWORD": "EhrAdmin2025!",
                  "JWT_SECRET": "EHR_SYSTEM_WEBAUTHN_SECRET_KEY_2025_SECURE_TOKEN_CHANGE_IN_PRODUCTION",
                  "WEBAUTHN_RP_ID": "localhost",
                  "WEBAUTHN_ORIGIN": "http://localhost:3000",
                  "NODE_ENV": "development",
                  "DB_SSL": "true"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "WebauthnRegisterFinishLogGroup"
            ]
          },
          "WebauthnAuthStartLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/ehr-backend-api/dev/1766608061043-2025-12-24T20:27:41.043Z/ehr-backend-api.zip"
              },
              "Handler": "handlers/webauthn.startAuthentication",
              "Runtime": "nodejs20.x",
              "FunctionName": "ehr-backend-api-dev-webauthnAuthStart",
              "MemorySize": 512,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "USER_POOL_ID": "ap-southeast-1_KAphl41fW",
                  "CLIENT_ID": "56ikumm3gld5ln6utag70vf781",
                  "REGION": "ap-southeast-1",
                  "DB_HOST": "ehr-system-db.c1keewkss49f.ap-southeast-1.rds.amazonaws.com",
                  "DB_PORT": "5432",
                  "DB_NAME": "ehr_production",
                  "DB_USER": "postgres",
                  "DB_PASSWORD": "EhrAdmin2025!",
                  "JWT_SECRET": "EHR_SYSTEM_WEBAUTHN_SECRET_KEY_2025_SECURE_TOKEN_CHANGE_IN_PRODUCTION",
                  "WEBAUTHN_RP_ID": "localhost",
                  "WEBAUTHN_ORIGIN": "http://localhost:3000",
                  "NODE_ENV": "development",
                  "DB_SSL": "true"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "WebauthnAuthStartLogGroup"
            ]
          },
          "WebauthnAuthFinishLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/ehr-backend-api/dev/1766608061043-2025-12-24T20:27:41.043Z/ehr-backend-api.zip"
              },
              "Handler": "handlers/webauthn.finishAuthentication",
              "Runtime": "nodejs20.x",
              "FunctionName": "ehr-backend-api-dev-webauthnAuthFinish",
              "MemorySize": 512,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "USER_POOL_ID": "ap-southeast-1_KAphl41fW",
                  "CLIENT_ID": "56ikumm3gld5ln6utag70vf781",
                  "REGION": "ap-southeast-1",
                  "DB_HOST": "ehr-system-db.c1keewkss49f.ap-southeast-1.rds.amazonaws.com",
                  "DB_PORT": "5432",
                  "DB_NAME": "ehr_production",
                  "DB_USER": "postgres",
                  "DB_PASSWORD": "EhrAdmin2025!",
                  "JWT_SECRET": "EHR_SYSTEM_WEBAUTHN_SECRET_KEY_2025_SECURE_TOKEN_CHANGE_IN_PRODUCTION",
                  "WEBAUTHN_RP_ID": "localhost",
                  "WEBAUTHN_ORIGIN": "http://localhost:3000",
                  "NODE_ENV": "development",
                  "DB_SSL": "true"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "WebauthnAuthFinishLogGroup"
            ]
          },
          "WebauthnGetCredentialsLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/ehr-backend-api/dev/1766608061043-2025-12-24T20:27:41.043Z/ehr-backend-api.zip"
              },
              "Handler": "handlers/webauthn.getCredentials",
              "Runtime": "nodejs20.x",
              "FunctionName": "ehr-backend-api-dev-webauthnGetCredentials",
              "MemorySize": 512,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "USER_POOL_ID": "ap-southeast-1_KAphl41fW",
                  "CLIENT_ID": "56ikumm3gld5ln6utag70vf781",
                  "REGION": "ap-southeast-1",
                  "DB_HOST": "ehr-system-db.c1keewkss49f.ap-southeast-1.rds.amazonaws.com",
                  "DB_PORT": "5432",
                  "DB_NAME": "ehr_production",
                  "DB_USER": "postgres",
                  "DB_PASSWORD": "EhrAdmin2025!",
                  "JWT_SECRET": "EHR_SYSTEM_WEBAUTHN_SECRET_KEY_2025_SECURE_TOKEN_CHANGE_IN_PRODUCTION",
                  "WEBAUTHN_RP_ID": "localhost",
                  "WEBAUTHN_ORIGIN": "http://localhost:3000",
                  "NODE_ENV": "development",
                  "DB_SSL": "true"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "WebauthnGetCredentialsLogGroup"
            ]
          },
          "WebauthnDeleteCredentialLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/ehr-backend-api/dev/1766608061043-2025-12-24T20:27:41.043Z/ehr-backend-api.zip"
              },
              "Handler": "handlers/webauthn.deleteCredential",
              "Runtime": "nodejs20.x",
              "FunctionName": "ehr-backend-api-dev-webauthnDeleteCredential",
              "MemorySize": 512,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "USER_POOL_ID": "ap-southeast-1_KAphl41fW",
                  "CLIENT_ID": "56ikumm3gld5ln6utag70vf781",
                  "REGION": "ap-southeast-1",
                  "DB_HOST": "ehr-system-db.c1keewkss49f.ap-southeast-1.rds.amazonaws.com",
                  "DB_PORT": "5432",
                  "DB_NAME": "ehr_production",
                  "DB_USER": "postgres",
                  "DB_PASSWORD": "EhrAdmin2025!",
                  "JWT_SECRET": "EHR_SYSTEM_WEBAUTHN_SECRET_KEY_2025_SECURE_TOKEN_CHANGE_IN_PRODUCTION",
                  "WEBAUTHN_RP_ID": "localhost",
                  "WEBAUTHN_ORIGIN": "http://localhost:3000",
                  "NODE_ENV": "development",
                  "DB_SSL": "true"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "WebauthnDeleteCredentialLogGroup"
            ]
          },
          "LoginLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/ehr-backend-api/dev/1766608061043-2025-12-24T20:27:41.043Z/ehr-backend-api.zip"
              },
              "Handler": "handlers/auth.login",
              "Runtime": "nodejs20.x",
              "FunctionName": "ehr-backend-api-dev-login",
              "MemorySize": 512,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "USER_POOL_ID": "ap-southeast-1_KAphl41fW",
                  "CLIENT_ID": "56ikumm3gld5ln6utag70vf781",
                  "REGION": "ap-southeast-1",
                  "DB_HOST": "ehr-system-db.c1keewkss49f.ap-southeast-1.rds.amazonaws.com",
                  "DB_PORT": "5432",
                  "DB_NAME": "ehr_production",
                  "DB_USER": "postgres",
                  "DB_PASSWORD": "EhrAdmin2025!",
                  "JWT_SECRET": "EHR_SYSTEM_WEBAUTHN_SECRET_KEY_2025_SECURE_TOKEN_CHANGE_IN_PRODUCTION",
                  "WEBAUTHN_RP_ID": "localhost",
                  "WEBAUTHN_ORIGIN": "http://localhost:3000",
                  "NODE_ENV": "development",
                  "DB_SSL": "true"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "LoginLogGroup"
            ]
          },
          "ChangePasswordLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/ehr-backend-api/dev/1766608061043-2025-12-24T20:27:41.043Z/ehr-backend-api.zip"
              },
              "Handler": "handlers/auth.changePassword",
              "Runtime": "nodejs20.x",
              "FunctionName": "ehr-backend-api-dev-changePassword",
              "MemorySize": 512,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "USER_POOL_ID": "ap-southeast-1_KAphl41fW",
                  "CLIENT_ID": "56ikumm3gld5ln6utag70vf781",
                  "REGION": "ap-southeast-1",
                  "DB_HOST": "ehr-system-db.c1keewkss49f.ap-southeast-1.rds.amazonaws.com",
                  "DB_PORT": "5432",
                  "DB_NAME": "ehr_production",
                  "DB_USER": "postgres",
                  "DB_PASSWORD": "EhrAdmin2025!",
                  "JWT_SECRET": "EHR_SYSTEM_WEBAUTHN_SECRET_KEY_2025_SECURE_TOKEN_CHANGE_IN_PRODUCTION",
                  "WEBAUTHN_RP_ID": "localhost",
                  "WEBAUTHN_ORIGIN": "http://localhost:3000",
                  "NODE_ENV": "development",
                  "DB_SSL": "true"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "ChangePasswordLogGroup"
            ]
          },
          "RefreshTokenLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/ehr-backend-api/dev/1766608061043-2025-12-24T20:27:41.043Z/ehr-backend-api.zip"
              },
              "Handler": "handlers/auth.refreshToken",
              "Runtime": "nodejs20.x",
              "FunctionName": "ehr-backend-api-dev-refreshToken",
              "MemorySize": 512,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "USER_POOL_ID": "ap-southeast-1_KAphl41fW",
                  "CLIENT_ID": "56ikumm3gld5ln6utag70vf781",
                  "REGION": "ap-southeast-1",
                  "DB_HOST": "ehr-system-db.c1keewkss49f.ap-southeast-1.rds.amazonaws.com",
                  "DB_PORT": "5432",
                  "DB_NAME": "ehr_production",
                  "DB_USER": "postgres",
                  "DB_PASSWORD": "EhrAdmin2025!",
                  "JWT_SECRET": "EHR_SYSTEM_WEBAUTHN_SECRET_KEY_2025_SECURE_TOKEN_CHANGE_IN_PRODUCTION",
                  "WEBAUTHN_RP_ID": "localhost",
                  "WEBAUTHN_ORIGIN": "http://localhost:3000",
                  "NODE_ENV": "development",
                  "DB_SSL": "true"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "RefreshTokenLogGroup"
            ]
          },
          "InitMFALambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/ehr-backend-api/dev/1766608061043-2025-12-24T20:27:41.043Z/ehr-backend-api.zip"
              },
              "Handler": "handlers/mfa.initMFA",
              "Runtime": "nodejs20.x",
              "FunctionName": "ehr-backend-api-dev-initMFA",
              "MemorySize": 512,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "USER_POOL_ID": "ap-southeast-1_KAphl41fW",
                  "CLIENT_ID": "56ikumm3gld5ln6utag70vf781",
                  "REGION": "ap-southeast-1",
                  "DB_HOST": "ehr-system-db.c1keewkss49f.ap-southeast-1.rds.amazonaws.com",
                  "DB_PORT": "5432",
                  "DB_NAME": "ehr_production",
                  "DB_USER": "postgres",
                  "DB_PASSWORD": "EhrAdmin2025!",
                  "JWT_SECRET": "EHR_SYSTEM_WEBAUTHN_SECRET_KEY_2025_SECURE_TOKEN_CHANGE_IN_PRODUCTION",
                  "WEBAUTHN_RP_ID": "localhost",
                  "WEBAUTHN_ORIGIN": "http://localhost:3000",
                  "NODE_ENV": "development",
                  "DB_SSL": "true"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "InitMFALogGroup"
            ]
          },
          "VerifyMFALambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/ehr-backend-api/dev/1766608061043-2025-12-24T20:27:41.043Z/ehr-backend-api.zip"
              },
              "Handler": "handlers/mfa.verifyMFA",
              "Runtime": "nodejs20.x",
              "FunctionName": "ehr-backend-api-dev-verifyMFA",
              "MemorySize": 512,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "USER_POOL_ID": "ap-southeast-1_KAphl41fW",
                  "CLIENT_ID": "56ikumm3gld5ln6utag70vf781",
                  "REGION": "ap-southeast-1",
                  "DB_HOST": "ehr-system-db.c1keewkss49f.ap-southeast-1.rds.amazonaws.com",
                  "DB_PORT": "5432",
                  "DB_NAME": "ehr_production",
                  "DB_USER": "postgres",
                  "DB_PASSWORD": "EhrAdmin2025!",
                  "JWT_SECRET": "EHR_SYSTEM_WEBAUTHN_SECRET_KEY_2025_SECURE_TOKEN_CHANGE_IN_PRODUCTION",
                  "WEBAUTHN_RP_ID": "localhost",
                  "WEBAUTHN_ORIGIN": "http://localhost:3000",
                  "NODE_ENV": "development",
                  "DB_SSL": "true"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "VerifyMFALogGroup"
            ]
          },
          "GetMFAStatusLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/ehr-backend-api/dev/1766608061043-2025-12-24T20:27:41.043Z/ehr-backend-api.zip"
              },
              "Handler": "handlers/mfa.getMFAStatus",
              "Runtime": "nodejs20.x",
              "FunctionName": "ehr-backend-api-dev-getMFAStatus",
              "MemorySize": 512,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "USER_POOL_ID": "ap-southeast-1_KAphl41fW",
                  "CLIENT_ID": "56ikumm3gld5ln6utag70vf781",
                  "REGION": "ap-southeast-1",
                  "DB_HOST": "ehr-system-db.c1keewkss49f.ap-southeast-1.rds.amazonaws.com",
                  "DB_PORT": "5432",
                  "DB_NAME": "ehr_production",
                  "DB_USER": "postgres",
                  "DB_PASSWORD": "EhrAdmin2025!",
                  "JWT_SECRET": "EHR_SYSTEM_WEBAUTHN_SECRET_KEY_2025_SECURE_TOKEN_CHANGE_IN_PRODUCTION",
                  "WEBAUTHN_RP_ID": "localhost",
                  "WEBAUTHN_ORIGIN": "http://localhost:3000",
                  "NODE_ENV": "development",
                  "DB_SSL": "true"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "GetMFAStatusLogGroup"
            ]
          },
          "CreateUserLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/ehr-backend-api/dev/1766608061043-2025-12-24T20:27:41.043Z/ehr-backend-api.zip"
              },
              "Handler": "handlers/users.createUser",
              "Runtime": "nodejs20.x",
              "FunctionName": "ehr-backend-api-dev-createUser",
              "MemorySize": 512,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "USER_POOL_ID": "ap-southeast-1_KAphl41fW",
                  "CLIENT_ID": "56ikumm3gld5ln6utag70vf781",
                  "REGION": "ap-southeast-1",
                  "DB_HOST": "ehr-system-db.c1keewkss49f.ap-southeast-1.rds.amazonaws.com",
                  "DB_PORT": "5432",
                  "DB_NAME": "ehr_production",
                  "DB_USER": "postgres",
                  "DB_PASSWORD": "EhrAdmin2025!",
                  "JWT_SECRET": "EHR_SYSTEM_WEBAUTHN_SECRET_KEY_2025_SECURE_TOKEN_CHANGE_IN_PRODUCTION",
                  "WEBAUTHN_RP_ID": "localhost",
                  "WEBAUTHN_ORIGIN": "http://localhost:3000",
                  "NODE_ENV": "development",
                  "DB_SSL": "true"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "CreateUserLogGroup"
            ]
          },
          "ListUsersLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/ehr-backend-api/dev/1766608061043-2025-12-24T20:27:41.043Z/ehr-backend-api.zip"
              },
              "Handler": "handlers/users.listUsers",
              "Runtime": "nodejs20.x",
              "FunctionName": "ehr-backend-api-dev-listUsers",
              "MemorySize": 512,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "USER_POOL_ID": "ap-southeast-1_KAphl41fW",
                  "CLIENT_ID": "56ikumm3gld5ln6utag70vf781",
                  "REGION": "ap-southeast-1",
                  "DB_HOST": "ehr-system-db.c1keewkss49f.ap-southeast-1.rds.amazonaws.com",
                  "DB_PORT": "5432",
                  "DB_NAME": "ehr_production",
                  "DB_USER": "postgres",
                  "DB_PASSWORD": "EhrAdmin2025!",
                  "JWT_SECRET": "EHR_SYSTEM_WEBAUTHN_SECRET_KEY_2025_SECURE_TOKEN_CHANGE_IN_PRODUCTION",
                  "WEBAUTHN_RP_ID": "localhost",
                  "WEBAUTHN_ORIGIN": "http://localhost:3000",
                  "NODE_ENV": "development",
                  "DB_SSL": "true"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "ListUsersLogGroup"
            ]
          },
          "DisableUserLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/ehr-backend-api/dev/1766608061043-2025-12-24T20:27:41.043Z/ehr-backend-api.zip"
              },
              "Handler": "handlers/users.disableUser",
              "Runtime": "nodejs20.x",
              "FunctionName": "ehr-backend-api-dev-disableUser",
              "MemorySize": 512,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "USER_POOL_ID": "ap-southeast-1_KAphl41fW",
                  "CLIENT_ID": "56ikumm3gld5ln6utag70vf781",
                  "REGION": "ap-southeast-1",
                  "DB_HOST": "ehr-system-db.c1keewkss49f.ap-southeast-1.rds.amazonaws.com",
                  "DB_PORT": "5432",
                  "DB_NAME": "ehr_production",
                  "DB_USER": "postgres",
                  "DB_PASSWORD": "EhrAdmin2025!",
                  "JWT_SECRET": "EHR_SYSTEM_WEBAUTHN_SECRET_KEY_2025_SECURE_TOKEN_CHANGE_IN_PRODUCTION",
                  "WEBAUTHN_RP_ID": "localhost",
                  "WEBAUTHN_ORIGIN": "http://localhost:3000",
                  "NODE_ENV": "development",
                  "DB_SSL": "true"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "DisableUserLogGroup"
            ]
          },
          "ResetUserPasswordLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/ehr-backend-api/dev/1766608061043-2025-12-24T20:27:41.043Z/ehr-backend-api.zip"
              },
              "Handler": "handlers/users.resetPassword",
              "Runtime": "nodejs20.x",
              "FunctionName": "ehr-backend-api-dev-resetUserPassword",
              "MemorySize": 512,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "USER_POOL_ID": "ap-southeast-1_KAphl41fW",
                  "CLIENT_ID": "56ikumm3gld5ln6utag70vf781",
                  "REGION": "ap-southeast-1",
                  "DB_HOST": "ehr-system-db.c1keewkss49f.ap-southeast-1.rds.amazonaws.com",
                  "DB_PORT": "5432",
                  "DB_NAME": "ehr_production",
                  "DB_USER": "postgres",
                  "DB_PASSWORD": "EhrAdmin2025!",
                  "JWT_SECRET": "EHR_SYSTEM_WEBAUTHN_SECRET_KEY_2025_SECURE_TOKEN_CHANGE_IN_PRODUCTION",
                  "WEBAUTHN_RP_ID": "localhost",
                  "WEBAUTHN_ORIGIN": "http://localhost:3000",
                  "NODE_ENV": "development",
                  "DB_SSL": "true"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "ResetUserPasswordLogGroup"
            ]
          },
          "CreatePatientLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/ehr-backend-api/dev/1766608061043-2025-12-24T20:27:41.043Z/ehr-backend-api.zip"
              },
              "Handler": "handlers/patients.create",
              "Runtime": "nodejs20.x",
              "FunctionName": "ehr-backend-api-dev-createPatient",
              "MemorySize": 512,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "USER_POOL_ID": "ap-southeast-1_KAphl41fW",
                  "CLIENT_ID": "56ikumm3gld5ln6utag70vf781",
                  "REGION": "ap-southeast-1",
                  "DB_HOST": "ehr-system-db.c1keewkss49f.ap-southeast-1.rds.amazonaws.com",
                  "DB_PORT": "5432",
                  "DB_NAME": "ehr_production",
                  "DB_USER": "postgres",
                  "DB_PASSWORD": "EhrAdmin2025!",
                  "JWT_SECRET": "EHR_SYSTEM_WEBAUTHN_SECRET_KEY_2025_SECURE_TOKEN_CHANGE_IN_PRODUCTION",
                  "WEBAUTHN_RP_ID": "localhost",
                  "WEBAUTHN_ORIGIN": "http://localhost:3000",
                  "NODE_ENV": "development",
                  "DB_SSL": "true"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "CreatePatientLogGroup"
            ]
          },
          "GetPatientLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/ehr-backend-api/dev/1766608061043-2025-12-24T20:27:41.043Z/ehr-backend-api.zip"
              },
              "Handler": "handlers/patients.getById",
              "Runtime": "nodejs20.x",
              "FunctionName": "ehr-backend-api-dev-getPatient",
              "MemorySize": 512,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "USER_POOL_ID": "ap-southeast-1_KAphl41fW",
                  "CLIENT_ID": "56ikumm3gld5ln6utag70vf781",
                  "REGION": "ap-southeast-1",
                  "DB_HOST": "ehr-system-db.c1keewkss49f.ap-southeast-1.rds.amazonaws.com",
                  "DB_PORT": "5432",
                  "DB_NAME": "ehr_production",
                  "DB_USER": "postgres",
                  "DB_PASSWORD": "EhrAdmin2025!",
                  "JWT_SECRET": "EHR_SYSTEM_WEBAUTHN_SECRET_KEY_2025_SECURE_TOKEN_CHANGE_IN_PRODUCTION",
                  "WEBAUTHN_RP_ID": "localhost",
                  "WEBAUTHN_ORIGIN": "http://localhost:3000",
                  "NODE_ENV": "development",
                  "DB_SSL": "true"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "GetPatientLogGroup"
            ]
          },
          "SearchPatientsLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/ehr-backend-api/dev/1766608061043-2025-12-24T20:27:41.043Z/ehr-backend-api.zip"
              },
              "Handler": "handlers/patients.search",
              "Runtime": "nodejs20.x",
              "FunctionName": "ehr-backend-api-dev-searchPatients",
              "MemorySize": 512,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "USER_POOL_ID": "ap-southeast-1_KAphl41fW",
                  "CLIENT_ID": "56ikumm3gld5ln6utag70vf781",
                  "REGION": "ap-southeast-1",
                  "DB_HOST": "ehr-system-db.c1keewkss49f.ap-southeast-1.rds.amazonaws.com",
                  "DB_PORT": "5432",
                  "DB_NAME": "ehr_production",
                  "DB_USER": "postgres",
                  "DB_PASSWORD": "EhrAdmin2025!",
                  "JWT_SECRET": "EHR_SYSTEM_WEBAUTHN_SECRET_KEY_2025_SECURE_TOKEN_CHANGE_IN_PRODUCTION",
                  "WEBAUTHN_RP_ID": "localhost",
                  "WEBAUTHN_ORIGIN": "http://localhost:3000",
                  "NODE_ENV": "development",
                  "DB_SSL": "true"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "SearchPatientsLogGroup"
            ]
          },
          "UpdatePatientLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/ehr-backend-api/dev/1766608061043-2025-12-24T20:27:41.043Z/ehr-backend-api.zip"
              },
              "Handler": "handlers/patients.update",
              "Runtime": "nodejs20.x",
              "FunctionName": "ehr-backend-api-dev-updatePatient",
              "MemorySize": 512,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "USER_POOL_ID": "ap-southeast-1_KAphl41fW",
                  "CLIENT_ID": "56ikumm3gld5ln6utag70vf781",
                  "REGION": "ap-southeast-1",
                  "DB_HOST": "ehr-system-db.c1keewkss49f.ap-southeast-1.rds.amazonaws.com",
                  "DB_PORT": "5432",
                  "DB_NAME": "ehr_production",
                  "DB_USER": "postgres",
                  "DB_PASSWORD": "EhrAdmin2025!",
                  "JWT_SECRET": "EHR_SYSTEM_WEBAUTHN_SECRET_KEY_2025_SECURE_TOKEN_CHANGE_IN_PRODUCTION",
                  "WEBAUTHN_RP_ID": "localhost",
                  "WEBAUTHN_ORIGIN": "http://localhost:3000",
                  "NODE_ENV": "development",
                  "DB_SSL": "true"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "UpdatePatientLogGroup"
            ]
          },
          "GetMyProfileLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/ehr-backend-api/dev/1766608061043-2025-12-24T20:27:41.043Z/ehr-backend-api.zip"
              },
              "Handler": "handlers/patientPortal.getMyProfile",
              "Runtime": "nodejs20.x",
              "FunctionName": "ehr-backend-api-dev-getMyProfile",
              "MemorySize": 512,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "USER_POOL_ID": "ap-southeast-1_KAphl41fW",
                  "CLIENT_ID": "56ikumm3gld5ln6utag70vf781",
                  "REGION": "ap-southeast-1",
                  "DB_HOST": "ehr-system-db.c1keewkss49f.ap-southeast-1.rds.amazonaws.com",
                  "DB_PORT": "5432",
                  "DB_NAME": "ehr_production",
                  "DB_USER": "postgres",
                  "DB_PASSWORD": "EhrAdmin2025!",
                  "JWT_SECRET": "EHR_SYSTEM_WEBAUTHN_SECRET_KEY_2025_SECURE_TOKEN_CHANGE_IN_PRODUCTION",
                  "WEBAUTHN_RP_ID": "localhost",
                  "WEBAUTHN_ORIGIN": "http://localhost:3000",
                  "NODE_ENV": "development",
                  "DB_SSL": "true"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "GetMyProfileLogGroup"
            ]
          },
          "GetMyMedicalRecordsLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/ehr-backend-api/dev/1766608061043-2025-12-24T20:27:41.043Z/ehr-backend-api.zip"
              },
              "Handler": "handlers/patientPortal.getMyMedicalRecords",
              "Runtime": "nodejs20.x",
              "FunctionName": "ehr-backend-api-dev-getMyMedicalRecords",
              "MemorySize": 512,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "USER_POOL_ID": "ap-southeast-1_KAphl41fW",
                  "CLIENT_ID": "56ikumm3gld5ln6utag70vf781",
                  "REGION": "ap-southeast-1",
                  "DB_HOST": "ehr-system-db.c1keewkss49f.ap-southeast-1.rds.amazonaws.com",
                  "DB_PORT": "5432",
                  "DB_NAME": "ehr_production",
                  "DB_USER": "postgres",
                  "DB_PASSWORD": "EhrAdmin2025!",
                  "JWT_SECRET": "EHR_SYSTEM_WEBAUTHN_SECRET_KEY_2025_SECURE_TOKEN_CHANGE_IN_PRODUCTION",
                  "WEBAUTHN_RP_ID": "localhost",
                  "WEBAUTHN_ORIGIN": "http://localhost:3000",
                  "NODE_ENV": "development",
                  "DB_SSL": "true"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "GetMyMedicalRecordsLogGroup"
            ]
          },
          "GetMyPrescriptionsLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/ehr-backend-api/dev/1766608061043-2025-12-24T20:27:41.043Z/ehr-backend-api.zip"
              },
              "Handler": "handlers/patientPortal.getMyPrescriptions",
              "Runtime": "nodejs20.x",
              "FunctionName": "ehr-backend-api-dev-getMyPrescriptions",
              "MemorySize": 512,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "USER_POOL_ID": "ap-southeast-1_KAphl41fW",
                  "CLIENT_ID": "56ikumm3gld5ln6utag70vf781",
                  "REGION": "ap-southeast-1",
                  "DB_HOST": "ehr-system-db.c1keewkss49f.ap-southeast-1.rds.amazonaws.com",
                  "DB_PORT": "5432",
                  "DB_NAME": "ehr_production",
                  "DB_USER": "postgres",
                  "DB_PASSWORD": "EhrAdmin2025!",
                  "JWT_SECRET": "EHR_SYSTEM_WEBAUTHN_SECRET_KEY_2025_SECURE_TOKEN_CHANGE_IN_PRODUCTION",
                  "WEBAUTHN_RP_ID": "localhost",
                  "WEBAUTHN_ORIGIN": "http://localhost:3000",
                  "NODE_ENV": "development",
                  "DB_SSL": "true"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "GetMyPrescriptionsLogGroup"
            ]
          },
          "GetMyVitalSignsLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/ehr-backend-api/dev/1766608061043-2025-12-24T20:27:41.043Z/ehr-backend-api.zip"
              },
              "Handler": "handlers/patientPortal.getMyVitalSigns",
              "Runtime": "nodejs20.x",
              "FunctionName": "ehr-backend-api-dev-getMyVitalSigns",
              "MemorySize": 512,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "USER_POOL_ID": "ap-southeast-1_KAphl41fW",
                  "CLIENT_ID": "56ikumm3gld5ln6utag70vf781",
                  "REGION": "ap-southeast-1",
                  "DB_HOST": "ehr-system-db.c1keewkss49f.ap-southeast-1.rds.amazonaws.com",
                  "DB_PORT": "5432",
                  "DB_NAME": "ehr_production",
                  "DB_USER": "postgres",
                  "DB_PASSWORD": "EhrAdmin2025!",
                  "JWT_SECRET": "EHR_SYSTEM_WEBAUTHN_SECRET_KEY_2025_SECURE_TOKEN_CHANGE_IN_PRODUCTION",
                  "WEBAUTHN_RP_ID": "localhost",
                  "WEBAUTHN_ORIGIN": "http://localhost:3000",
                  "NODE_ENV": "development",
                  "DB_SSL": "true"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "GetMyVitalSignsLogGroup"
            ]
          },
          "CreateVitalSignsLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/ehr-backend-api/dev/1766608061043-2025-12-24T20:27:41.043Z/ehr-backend-api.zip"
              },
              "Handler": "handlers/vitalSigns.create",
              "Runtime": "nodejs20.x",
              "FunctionName": "ehr-backend-api-dev-createVitalSigns",
              "MemorySize": 512,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "USER_POOL_ID": "ap-southeast-1_KAphl41fW",
                  "CLIENT_ID": "56ikumm3gld5ln6utag70vf781",
                  "REGION": "ap-southeast-1",
                  "DB_HOST": "ehr-system-db.c1keewkss49f.ap-southeast-1.rds.amazonaws.com",
                  "DB_PORT": "5432",
                  "DB_NAME": "ehr_production",
                  "DB_USER": "postgres",
                  "DB_PASSWORD": "EhrAdmin2025!",
                  "JWT_SECRET": "EHR_SYSTEM_WEBAUTHN_SECRET_KEY_2025_SECURE_TOKEN_CHANGE_IN_PRODUCTION",
                  "WEBAUTHN_RP_ID": "localhost",
                  "WEBAUTHN_ORIGIN": "http://localhost:3000",
                  "NODE_ENV": "development",
                  "DB_SSL": "true"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "CreateVitalSignsLogGroup"
            ]
          },
          "GetVitalSignsLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/ehr-backend-api/dev/1766608061043-2025-12-24T20:27:41.043Z/ehr-backend-api.zip"
              },
              "Handler": "handlers/vitalSigns.getByPatient",
              "Runtime": "nodejs20.x",
              "FunctionName": "ehr-backend-api-dev-getVitalSigns",
              "MemorySize": 512,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "USER_POOL_ID": "ap-southeast-1_KAphl41fW",
                  "CLIENT_ID": "56ikumm3gld5ln6utag70vf781",
                  "REGION": "ap-southeast-1",
                  "DB_HOST": "ehr-system-db.c1keewkss49f.ap-southeast-1.rds.amazonaws.com",
                  "DB_PORT": "5432",
                  "DB_NAME": "ehr_production",
                  "DB_USER": "postgres",
                  "DB_PASSWORD": "EhrAdmin2025!",
                  "JWT_SECRET": "EHR_SYSTEM_WEBAUTHN_SECRET_KEY_2025_SECURE_TOKEN_CHANGE_IN_PRODUCTION",
                  "WEBAUTHN_RP_ID": "localhost",
                  "WEBAUTHN_ORIGIN": "http://localhost:3000",
                  "NODE_ENV": "development",
                  "DB_SSL": "true"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "GetVitalSignsLogGroup"
            ]
          },
          "GetLatestVitalSignsLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/ehr-backend-api/dev/1766608061043-2025-12-24T20:27:41.043Z/ehr-backend-api.zip"
              },
              "Handler": "handlers/vitalSigns.getLatest",
              "Runtime": "nodejs20.x",
              "FunctionName": "ehr-backend-api-dev-getLatestVitalSigns",
              "MemorySize": 512,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "USER_POOL_ID": "ap-southeast-1_KAphl41fW",
                  "CLIENT_ID": "56ikumm3gld5ln6utag70vf781",
                  "REGION": "ap-southeast-1",
                  "DB_HOST": "ehr-system-db.c1keewkss49f.ap-southeast-1.rds.amazonaws.com",
                  "DB_PORT": "5432",
                  "DB_NAME": "ehr_production",
                  "DB_USER": "postgres",
                  "DB_PASSWORD": "EhrAdmin2025!",
                  "JWT_SECRET": "EHR_SYSTEM_WEBAUTHN_SECRET_KEY_2025_SECURE_TOKEN_CHANGE_IN_PRODUCTION",
                  "WEBAUTHN_RP_ID": "localhost",
                  "WEBAUTHN_ORIGIN": "http://localhost:3000",
                  "NODE_ENV": "development",
                  "DB_SSL": "true"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "GetLatestVitalSignsLogGroup"
            ]
          },
          "CreateMedicalRecordLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/ehr-backend-api/dev/1766608061043-2025-12-24T20:27:41.043Z/ehr-backend-api.zip"
              },
              "Handler": "handlers/medicalRecords.create",
              "Runtime": "nodejs20.x",
              "FunctionName": "ehr-backend-api-dev-createMedicalRecord",
              "MemorySize": 512,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "USER_POOL_ID": "ap-southeast-1_KAphl41fW",
                  "CLIENT_ID": "56ikumm3gld5ln6utag70vf781",
                  "REGION": "ap-southeast-1",
                  "DB_HOST": "ehr-system-db.c1keewkss49f.ap-southeast-1.rds.amazonaws.com",
                  "DB_PORT": "5432",
                  "DB_NAME": "ehr_production",
                  "DB_USER": "postgres",
                  "DB_PASSWORD": "EhrAdmin2025!",
                  "JWT_SECRET": "EHR_SYSTEM_WEBAUTHN_SECRET_KEY_2025_SECURE_TOKEN_CHANGE_IN_PRODUCTION",
                  "WEBAUTHN_RP_ID": "localhost",
                  "WEBAUTHN_ORIGIN": "http://localhost:3000",
                  "NODE_ENV": "development",
                  "DB_SSL": "true"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "CreateMedicalRecordLogGroup"
            ]
          },
          "GetMedicalRecordLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/ehr-backend-api/dev/1766608061043-2025-12-24T20:27:41.043Z/ehr-backend-api.zip"
              },
              "Handler": "handlers/medicalRecords.getById",
              "Runtime": "nodejs20.x",
              "FunctionName": "ehr-backend-api-dev-getMedicalRecord",
              "MemorySize": 512,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "USER_POOL_ID": "ap-southeast-1_KAphl41fW",
                  "CLIENT_ID": "56ikumm3gld5ln6utag70vf781",
                  "REGION": "ap-southeast-1",
                  "DB_HOST": "ehr-system-db.c1keewkss49f.ap-southeast-1.rds.amazonaws.com",
                  "DB_PORT": "5432",
                  "DB_NAME": "ehr_production",
                  "DB_USER": "postgres",
                  "DB_PASSWORD": "EhrAdmin2025!",
                  "JWT_SECRET": "EHR_SYSTEM_WEBAUTHN_SECRET_KEY_2025_SECURE_TOKEN_CHANGE_IN_PRODUCTION",
                  "WEBAUTHN_RP_ID": "localhost",
                  "WEBAUTHN_ORIGIN": "http://localhost:3000",
                  "NODE_ENV": "development",
                  "DB_SSL": "true"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "GetMedicalRecordLogGroup"
            ]
          },
          "GetMedicalRecordsByPatientLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/ehr-backend-api/dev/1766608061043-2025-12-24T20:27:41.043Z/ehr-backend-api.zip"
              },
              "Handler": "handlers/medicalRecords.getByPatient",
              "Runtime": "nodejs20.x",
              "FunctionName": "ehr-backend-api-dev-getMedicalRecordsByPatient",
              "MemorySize": 512,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "USER_POOL_ID": "ap-southeast-1_KAphl41fW",
                  "CLIENT_ID": "56ikumm3gld5ln6utag70vf781",
                  "REGION": "ap-southeast-1",
                  "DB_HOST": "ehr-system-db.c1keewkss49f.ap-southeast-1.rds.amazonaws.com",
                  "DB_PORT": "5432",
                  "DB_NAME": "ehr_production",
                  "DB_USER": "postgres",
                  "DB_PASSWORD": "EhrAdmin2025!",
                  "JWT_SECRET": "EHR_SYSTEM_WEBAUTHN_SECRET_KEY_2025_SECURE_TOKEN_CHANGE_IN_PRODUCTION",
                  "WEBAUTHN_RP_ID": "localhost",
                  "WEBAUTHN_ORIGIN": "http://localhost:3000",
                  "NODE_ENV": "development",
                  "DB_SSL": "true"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "GetMedicalRecordsByPatientLogGroup"
            ]
          },
          "UpdateMedicalRecordLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/ehr-backend-api/dev/1766608061043-2025-12-24T20:27:41.043Z/ehr-backend-api.zip"
              },
              "Handler": "handlers/medicalRecords.update",
              "Runtime": "nodejs20.x",
              "FunctionName": "ehr-backend-api-dev-updateMedicalRecord",
              "MemorySize": 512,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "USER_POOL_ID": "ap-southeast-1_KAphl41fW",
                  "CLIENT_ID": "56ikumm3gld5ln6utag70vf781",
                  "REGION": "ap-southeast-1",
                  "DB_HOST": "ehr-system-db.c1keewkss49f.ap-southeast-1.rds.amazonaws.com",
                  "DB_PORT": "5432",
                  "DB_NAME": "ehr_production",
                  "DB_USER": "postgres",
                  "DB_PASSWORD": "EhrAdmin2025!",
                  "JWT_SECRET": "EHR_SYSTEM_WEBAUTHN_SECRET_KEY_2025_SECURE_TOKEN_CHANGE_IN_PRODUCTION",
                  "WEBAUTHN_RP_ID": "localhost",
                  "WEBAUTHN_ORIGIN": "http://localhost:3000",
                  "NODE_ENV": "development",
                  "DB_SSL": "true"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "UpdateMedicalRecordLogGroup"
            ]
          },
          "CreatePrescriptionLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/ehr-backend-api/dev/1766608061043-2025-12-24T20:27:41.043Z/ehr-backend-api.zip"
              },
              "Handler": "handlers/prescriptions.create",
              "Runtime": "nodejs20.x",
              "FunctionName": "ehr-backend-api-dev-createPrescription",
              "MemorySize": 512,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "USER_POOL_ID": "ap-southeast-1_KAphl41fW",
                  "CLIENT_ID": "56ikumm3gld5ln6utag70vf781",
                  "REGION": "ap-southeast-1",
                  "DB_HOST": "ehr-system-db.c1keewkss49f.ap-southeast-1.rds.amazonaws.com",
                  "DB_PORT": "5432",
                  "DB_NAME": "ehr_production",
                  "DB_USER": "postgres",
                  "DB_PASSWORD": "EhrAdmin2025!",
                  "JWT_SECRET": "EHR_SYSTEM_WEBAUTHN_SECRET_KEY_2025_SECURE_TOKEN_CHANGE_IN_PRODUCTION",
                  "WEBAUTHN_RP_ID": "localhost",
                  "WEBAUTHN_ORIGIN": "http://localhost:3000",
                  "NODE_ENV": "development",
                  "DB_SSL": "true"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "CreatePrescriptionLogGroup"
            ]
          },
          "GetPrescriptionLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/ehr-backend-api/dev/1766608061043-2025-12-24T20:27:41.043Z/ehr-backend-api.zip"
              },
              "Handler": "handlers/prescriptions.getById",
              "Runtime": "nodejs20.x",
              "FunctionName": "ehr-backend-api-dev-getPrescription",
              "MemorySize": 512,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "USER_POOL_ID": "ap-southeast-1_KAphl41fW",
                  "CLIENT_ID": "56ikumm3gld5ln6utag70vf781",
                  "REGION": "ap-southeast-1",
                  "DB_HOST": "ehr-system-db.c1keewkss49f.ap-southeast-1.rds.amazonaws.com",
                  "DB_PORT": "5432",
                  "DB_NAME": "ehr_production",
                  "DB_USER": "postgres",
                  "DB_PASSWORD": "EhrAdmin2025!",
                  "JWT_SECRET": "EHR_SYSTEM_WEBAUTHN_SECRET_KEY_2025_SECURE_TOKEN_CHANGE_IN_PRODUCTION",
                  "WEBAUTHN_RP_ID": "localhost",
                  "WEBAUTHN_ORIGIN": "http://localhost:3000",
                  "NODE_ENV": "development",
                  "DB_SSL": "true"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "GetPrescriptionLogGroup"
            ]
          },
          "GetPrescriptionsByPatientLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/ehr-backend-api/dev/1766608061043-2025-12-24T20:27:41.043Z/ehr-backend-api.zip"
              },
              "Handler": "handlers/prescriptions.getByPatient",
              "Runtime": "nodejs20.x",
              "FunctionName": "ehr-backend-api-dev-getPrescriptionsByPatient",
              "MemorySize": 512,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "USER_POOL_ID": "ap-southeast-1_KAphl41fW",
                  "CLIENT_ID": "56ikumm3gld5ln6utag70vf781",
                  "REGION": "ap-southeast-1",
                  "DB_HOST": "ehr-system-db.c1keewkss49f.ap-southeast-1.rds.amazonaws.com",
                  "DB_PORT": "5432",
                  "DB_NAME": "ehr_production",
                  "DB_USER": "postgres",
                  "DB_PASSWORD": "EhrAdmin2025!",
                  "JWT_SECRET": "EHR_SYSTEM_WEBAUTHN_SECRET_KEY_2025_SECURE_TOKEN_CHANGE_IN_PRODUCTION",
                  "WEBAUTHN_RP_ID": "localhost",
                  "WEBAUTHN_ORIGIN": "http://localhost:3000",
                  "NODE_ENV": "development",
                  "DB_SSL": "true"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "GetPrescriptionsByPatientLogGroup"
            ]
          },
          "GetAuditLogsLambdaFunction": {
            "Type": "AWS::Lambda::Function",
            "Properties": {
              "Code": {
                "S3Bucket": {
                  "Ref": "ServerlessDeploymentBucket"
                },
                "S3Key": "serverless/ehr-backend-api/dev/1766608061043-2025-12-24T20:27:41.043Z/ehr-backend-api.zip"
              },
              "Handler": "handlers/auditLogs.getLogs",
              "Runtime": "nodejs20.x",
              "FunctionName": "ehr-backend-api-dev-getAuditLogs",
              "MemorySize": 512,
              "Timeout": 30,
              "Environment": {
                "Variables": {
                  "USER_POOL_ID": "ap-southeast-1_KAphl41fW",
                  "CLIENT_ID": "56ikumm3gld5ln6utag70vf781",
                  "REGION": "ap-southeast-1",
                  "DB_HOST": "ehr-system-db.c1keewkss49f.ap-southeast-1.rds.amazonaws.com",
                  "DB_PORT": "5432",
                  "DB_NAME": "ehr_production",
                  "DB_USER": "postgres",
                  "DB_PASSWORD": "EhrAdmin2025!",
                  "JWT_SECRET": "EHR_SYSTEM_WEBAUTHN_SECRET_KEY_2025_SECURE_TOKEN_CHANGE_IN_PRODUCTION",
                  "WEBAUTHN_RP_ID": "localhost",
                  "WEBAUTHN_ORIGIN": "http://localhost:3000",
                  "NODE_ENV": "development",
                  "DB_SSL": "true"
                }
              },
              "Role": {
                "Fn::GetAtt": [
                  "IamRoleLambdaExecution",
                  "Arn"
                ]
              }
            },
            "DependsOn": [
              "GetAuditLogsLogGroup"
            ]
          },
          "WebauthnRegisterStartLambdaVersionyA45tkv5L8IUbrTktVHyFwubPdrsZ5RXcdrzfQojgQk": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "WebauthnRegisterStartLambdaFunction"
              },
              "CodeSha256": "Df5NqOpQrsQSG1b1DGHEmF+/dPSrRz3b2wKrsHmfYS8="
            }
          },
          "WebauthnRegisterFinishLambdaVersionaGmS2x6TQBBn5k6mMaG9f8IjNUl6V6c9B8lTj8TN6HE": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "WebauthnRegisterFinishLambdaFunction"
              },
              "CodeSha256": "Df5NqOpQrsQSG1b1DGHEmF+/dPSrRz3b2wKrsHmfYS8="
            }
          },
          "WebauthnAuthStartLambdaVersion5mpRs9uXLGbFFLaPX9pX1uz7rCQYttfrGKdLwoNod4": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "WebauthnAuthStartLambdaFunction"
              },
              "CodeSha256": "Df5NqOpQrsQSG1b1DGHEmF+/dPSrRz3b2wKrsHmfYS8="
            }
          },
          "WebauthnAuthFinishLambdaVersion77apSoJDsyTACn5ZuYVxC0supEY214Jvu8sDD46q5U": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "WebauthnAuthFinishLambdaFunction"
              },
              "CodeSha256": "Df5NqOpQrsQSG1b1DGHEmF+/dPSrRz3b2wKrsHmfYS8="
            }
          },
          "WebauthnGetCredentialsLambdaVersionYVXETDYUp68Fgu3CouVRMveHSPD0LQWSHAIjAlq0qec": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "WebauthnGetCredentialsLambdaFunction"
              },
              "CodeSha256": "Df5NqOpQrsQSG1b1DGHEmF+/dPSrRz3b2wKrsHmfYS8="
            }
          },
          "WebauthnDeleteCredentialLambdaVersionseIdZaeHno1y5ysLBzHwvWxScZH2iialNxP3hXflc0": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "WebauthnDeleteCredentialLambdaFunction"
              },
              "CodeSha256": "Df5NqOpQrsQSG1b1DGHEmF+/dPSrRz3b2wKrsHmfYS8="
            }
          },
          "LoginLambdaVersionysFODrme2tRAnnxpkKNiwg3YljggoLgoq9Q4lr5O7YE": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "LoginLambdaFunction"
              },
              "CodeSha256": "Df5NqOpQrsQSG1b1DGHEmF+/dPSrRz3b2wKrsHmfYS8="
            }
          },
          "ChangePasswordLambdaVersionvR4netYehyFsuQPcD9DkstGz07HepXS50fJigcauaE": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "ChangePasswordLambdaFunction"
              },
              "CodeSha256": "Df5NqOpQrsQSG1b1DGHEmF+/dPSrRz3b2wKrsHmfYS8="
            }
          },
          "RefreshTokenLambdaVersioniRluCmLlHy8q8JJ3rIpeK047olqUonixzVOcLwKL4": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "RefreshTokenLambdaFunction"
              },
              "CodeSha256": "Df5NqOpQrsQSG1b1DGHEmF+/dPSrRz3b2wKrsHmfYS8="
            }
          },
          "InitMFALambdaVersion2QDGa0r6Yw7y327a0NNqCM1y5dD4dSQGVcCl2x2UlA": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "InitMFALambdaFunction"
              },
              "CodeSha256": "Df5NqOpQrsQSG1b1DGHEmF+/dPSrRz3b2wKrsHmfYS8="
            }
          },
          "VerifyMFALambdaVersionfWNLREaSn5JAAG7GMI6A0KLNSErWkrU8ba56q24": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "VerifyMFALambdaFunction"
              },
              "CodeSha256": "Df5NqOpQrsQSG1b1DGHEmF+/dPSrRz3b2wKrsHmfYS8="
            }
          },
          "GetMFAStatusLambdaVersionGqIHo1Ax61Y1DydGJKd4GNR7FZQtcHdgH7APn1HixSc": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "GetMFAStatusLambdaFunction"
              },
              "CodeSha256": "Df5NqOpQrsQSG1b1DGHEmF+/dPSrRz3b2wKrsHmfYS8="
            }
          },
          "CreateUserLambdaVersionJIjzD8jmFYn4dHsHr4wHgiWYYjLaV81Afan7wEIN0": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "CreateUserLambdaFunction"
              },
              "CodeSha256": "Df5NqOpQrsQSG1b1DGHEmF+/dPSrRz3b2wKrsHmfYS8="
            }
          },
          "ListUsersLambdaVersionmOG6FjTh9cDNZIMuxpvSIUz3D8jVCsDCCJADyqy8gA": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "ListUsersLambdaFunction"
              },
              "CodeSha256": "Df5NqOpQrsQSG1b1DGHEmF+/dPSrRz3b2wKrsHmfYS8="
            }
          },
          "DisableUserLambdaVersionVkpWLlaxLefYAEUFhELHBc3VQG3KHDpglwNUuu6XLag": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "DisableUserLambdaFunction"
              },
              "CodeSha256": "Df5NqOpQrsQSG1b1DGHEmF+/dPSrRz3b2wKrsHmfYS8="
            }
          },
          "ResetUserPasswordLambdaVersionM49E68mu8aipzPk799NaBhgo3EK3bES932QcQ1Ue0": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "ResetUserPasswordLambdaFunction"
              },
              "CodeSha256": "Df5NqOpQrsQSG1b1DGHEmF+/dPSrRz3b2wKrsHmfYS8="
            }
          },
          "CreatePatientLambdaVersion74StEwS9uuzQV2jUuJr7j7VArYlGa7WzGhWBHvXsQk": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "CreatePatientLambdaFunction"
              },
              "CodeSha256": "Df5NqOpQrsQSG1b1DGHEmF+/dPSrRz3b2wKrsHmfYS8="
            }
          },
          "GetPatientLambdaVersionrtjc2WgD6emPdjr4K5oNqrzuzdl8CGVk1JDbQ5B9C4": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "GetPatientLambdaFunction"
              },
              "CodeSha256": "Df5NqOpQrsQSG1b1DGHEmF+/dPSrRz3b2wKrsHmfYS8="
            }
          },
          "SearchPatientsLambdaVersionTPgRPMdywsdQabxFEZvkPRP1TThuRUHo01Ym4CwcjBk": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "SearchPatientsLambdaFunction"
              },
              "CodeSha256": "Df5NqOpQrsQSG1b1DGHEmF+/dPSrRz3b2wKrsHmfYS8="
            }
          },
          "UpdatePatientLambdaVersionc3ktgRAVlnRuhAyT6ny4uMtPtfpZ4rRLz5gFpDG1PW8": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "UpdatePatientLambdaFunction"
              },
              "CodeSha256": "Df5NqOpQrsQSG1b1DGHEmF+/dPSrRz3b2wKrsHmfYS8="
            }
          },
          "GetMyProfileLambdaVersionub9coff2I4Apj9SOgwZlpvfiN7nSX7W4hsYhvlnFVFY": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "GetMyProfileLambdaFunction"
              },
              "CodeSha256": "Df5NqOpQrsQSG1b1DGHEmF+/dPSrRz3b2wKrsHmfYS8="
            }
          },
          "GetMyMedicalRecordsLambdaVersionjLTeftFatyxGT58HqIFAF8sn5XeOaxhtrT8OdsN6G4": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "GetMyMedicalRecordsLambdaFunction"
              },
              "CodeSha256": "Df5NqOpQrsQSG1b1DGHEmF+/dPSrRz3b2wKrsHmfYS8="
            }
          },
          "GetMyPrescriptionsLambdaVersionIMrBfL30ej3CH2dI9M2efahb0qhhiPyG3zmzLRALmpU": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "GetMyPrescriptionsLambdaFunction"
              },
              "CodeSha256": "Df5NqOpQrsQSG1b1DGHEmF+/dPSrRz3b2wKrsHmfYS8="
            }
          },
          "GetMyVitalSignsLambdaVersion7LbdjTRcnaVAxf3UcUtdNTMYqjkKUwYhdnHllTQpw": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "GetMyVitalSignsLambdaFunction"
              },
              "CodeSha256": "Df5NqOpQrsQSG1b1DGHEmF+/dPSrRz3b2wKrsHmfYS8="
            }
          },
          "CreateVitalSignsLambdaVersionY3OkISXAsYbssTEhb5KXNg7U3m2sTbaVNSWqb39cU": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "CreateVitalSignsLambdaFunction"
              },
              "CodeSha256": "Df5NqOpQrsQSG1b1DGHEmF+/dPSrRz3b2wKrsHmfYS8="
            }
          },
          "GetVitalSignsLambdaVersion5K277A6Kc3iqJH0MNGSGmD0he7MDJek8l6tUDReIY": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "GetVitalSignsLambdaFunction"
              },
              "CodeSha256": "Df5NqOpQrsQSG1b1DGHEmF+/dPSrRz3b2wKrsHmfYS8="
            }
          },
          "GetLatestVitalSignsLambdaVersionKO1t9QdpA6lS62dCrx7BC28VlZOb7k051CFHRPoYqE8": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "GetLatestVitalSignsLambdaFunction"
              },
              "CodeSha256": "Df5NqOpQrsQSG1b1DGHEmF+/dPSrRz3b2wKrsHmfYS8="
            }
          },
          "CreateMedicalRecordLambdaVersionhDv2SE9KkMQPv6CjOKJ0jnuSEoYRSejyp85hsiNR4b0": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "CreateMedicalRecordLambdaFunction"
              },
              "CodeSha256": "Df5NqOpQrsQSG1b1DGHEmF+/dPSrRz3b2wKrsHmfYS8="
            }
          },
          "GetMedicalRecordLambdaVersionL8cyZzc6tyTOPGl5YbgoISYCrRTMoCgbTKzqPz83k": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "GetMedicalRecordLambdaFunction"
              },
              "CodeSha256": "Df5NqOpQrsQSG1b1DGHEmF+/dPSrRz3b2wKrsHmfYS8="
            }
          },
          "GetMedicalRecordsByPatientLambdaVersionDd21dV7aXkkg0rT9MQZuuwWCq31Ajoihz1gPYo9baQ": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "GetMedicalRecordsByPatientLambdaFunction"
              },
              "CodeSha256": "Df5NqOpQrsQSG1b1DGHEmF+/dPSrRz3b2wKrsHmfYS8="
            }
          },
          "UpdateMedicalRecordLambdaVersion0DMqEyxvkP5yWllTSXXwPdhGQa7z3QY76UGa6nXDpY": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "UpdateMedicalRecordLambdaFunction"
              },
              "CodeSha256": "Df5NqOpQrsQSG1b1DGHEmF+/dPSrRz3b2wKrsHmfYS8="
            }
          },
          "CreatePrescriptionLambdaVersioniZiD7XVMAwPefN86rOaFvfQoy8Un8U4KBvBEmsM4TY8": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "CreatePrescriptionLambdaFunction"
              },
              "CodeSha256": "Df5NqOpQrsQSG1b1DGHEmF+/dPSrRz3b2wKrsHmfYS8="
            }
          },
          "GetPrescriptionLambdaVersionEGVoxl8qLWdqmNwNwEXzk88seAbGYNpRlZ8fTju2lc": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "GetPrescriptionLambdaFunction"
              },
              "CodeSha256": "Df5NqOpQrsQSG1b1DGHEmF+/dPSrRz3b2wKrsHmfYS8="
            }
          },
          "GetPrescriptionsByPatientLambdaVersionQHvgD0mkYP0Z00JmInXacQyi0cIXRHWCxkshI81Zo": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "GetPrescriptionsByPatientLambdaFunction"
              },
              "CodeSha256": "Df5NqOpQrsQSG1b1DGHEmF+/dPSrRz3b2wKrsHmfYS8="
            }
          },
          "GetAuditLogsLambdaVersionukAGKSPmW1LzOFQxPsHJ3PWkoOv7ZINZLUTig": {
            "Type": "AWS::Lambda::Version",
            "DeletionPolicy": "Retain",
            "Properties": {
              "FunctionName": {
                "Ref": "GetAuditLogsLambdaFunction"
              },
              "CodeSha256": "Df5NqOpQrsQSG1b1DGHEmF+/dPSrRz3b2wKrsHmfYS8="
            }
          },
          "HttpApi": {
            "Type": "AWS::ApiGatewayV2::Api",
            "Properties": {
              "Name": "dev-ehr-backend-api",
              "ProtocolType": "HTTP",
              "CorsConfiguration": {
                "AllowHeaders": [
                  "Content-Type",
                  "Authorization"
                ],
                "AllowMethods": [
                  "GET",
                  "POST",
                  "PUT",
                  "DELETE",
                  "OPTIONS"
                ],
                "AllowOrigins": [
                  "*"
                ]
              }
            }
          },
          "HttpApiStage": {
            "Type": "AWS::ApiGatewayV2::Stage",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "StageName": "$default",
              "AutoDeploy": true,
              "DefaultRouteSettings": {
                "DetailedMetricsEnabled": false
              }
            }
          },
          "WebauthnRegisterStartLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "WebauthnRegisterStartLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationWebauthnRegisterStart": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"WebauthnRegisterStartLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRoutePostWebauthnRegisterStart": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "POST /webauthn/register/start",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationWebauthnRegisterStart"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationWebauthnRegisterStart"
          },
          "WebauthnRegisterFinishLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "WebauthnRegisterFinishLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationWebauthnRegisterFinish": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"WebauthnRegisterFinishLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRoutePostWebauthnRegisterFinish": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "POST /webauthn/register/finish",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationWebauthnRegisterFinish"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationWebauthnRegisterFinish"
          },
          "WebauthnAuthStartLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "WebauthnAuthStartLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationWebauthnAuthStart": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"WebauthnAuthStartLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRoutePostWebauthnAuthStart": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "POST /webauthn/auth/start",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationWebauthnAuthStart"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationWebauthnAuthStart"
          },
          "WebauthnAuthFinishLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "WebauthnAuthFinishLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationWebauthnAuthFinish": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"WebauthnAuthFinishLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRoutePostWebauthnAuthFinish": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "POST /webauthn/auth/finish",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationWebauthnAuthFinish"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationWebauthnAuthFinish"
          },
          "WebauthnGetCredentialsLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "WebauthnGetCredentialsLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationWebauthnGetCredentials": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"WebauthnGetCredentialsLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRouteGetWebauthnCredentials": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "GET /webauthn/credentials",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationWebauthnGetCredentials"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationWebauthnGetCredentials"
          },
          "WebauthnDeleteCredentialLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "WebauthnDeleteCredentialLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationWebauthnDeleteCredential": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"WebauthnDeleteCredentialLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRouteDeleteWebauthnCredentialsIdVar": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "DELETE /webauthn/credentials/{id}",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationWebauthnDeleteCredential"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationWebauthnDeleteCredential"
          },
          "LoginLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "LoginLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationLogin": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"LoginLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRoutePostAuthLogin": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "POST /auth/login",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationLogin"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationLogin"
          },
          "ChangePasswordLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "ChangePasswordLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationChangePassword": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"ChangePasswordLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRoutePostAuthChangeDashpassword": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "POST /auth/change-password",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationChangePassword"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationChangePassword"
          },
          "RefreshTokenLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "RefreshTokenLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationRefreshToken": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"RefreshTokenLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRoutePostAuthRefresh": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "POST /auth/refresh",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationRefreshToken"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationRefreshToken"
          },
          "InitMFALambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "InitMFALambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationInitMFA": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"InitMFALambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRoutePostMfaInit": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "POST /mfa/init",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationInitMFA"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationInitMFA"
          },
          "VerifyMFALambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "VerifyMFALambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationVerifyMFA": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"VerifyMFALambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRoutePostMfaVerify": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "POST /mfa/verify",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationVerifyMFA"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationVerifyMFA"
          },
          "GetMFAStatusLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "GetMFAStatusLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationGetMFAStatus": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"GetMFAStatusLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRouteGetMfaStatusUseridVar": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "GET /mfa/status/{userId}",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationGetMFAStatus"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationGetMFAStatus"
          },
          "CreateUserLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "CreateUserLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationCreateUser": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"CreateUserLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRoutePostUsers": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "POST /users",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationCreateUser"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationCreateUser"
          },
          "ListUsersLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "ListUsersLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationListUsers": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"ListUsersLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRouteGetUsers": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "GET /users",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationListUsers"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationListUsers"
          },
          "DisableUserLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "DisableUserLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationDisableUser": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"DisableUserLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRoutePutUsersIdVarDisable": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "PUT /users/{id}/disable",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationDisableUser"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationDisableUser"
          },
          "ResetUserPasswordLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "ResetUserPasswordLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationResetUserPassword": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"ResetUserPasswordLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRoutePostUsersIdVarResetDashpassword": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "POST /users/{id}/reset-password",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationResetUserPassword"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationResetUserPassword"
          },
          "CreatePatientLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "CreatePatientLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationCreatePatient": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"CreatePatientLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRoutePostPatients": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "POST /patients",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationCreatePatient"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationCreatePatient"
          },
          "GetPatientLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "GetPatientLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationGetPatient": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"GetPatientLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRouteGetPatientsIdVar": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "GET /patients/{id}",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationGetPatient"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationGetPatient"
          },
          "SearchPatientsLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "SearchPatientsLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationSearchPatients": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"SearchPatientsLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRouteGetPatientsSearch": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "GET /patients/search",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationSearchPatients"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationSearchPatients"
          },
          "UpdatePatientLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "UpdatePatientLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationUpdatePatient": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"UpdatePatientLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRoutePutPatientsIdVar": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "PUT /patients/{id}",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationUpdatePatient"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationUpdatePatient"
          },
          "GetMyProfileLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "GetMyProfileLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationGetMyProfile": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"GetMyProfileLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRouteGetPatientsMe": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "GET /patients/me",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationGetMyProfile"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationGetMyProfile"
          },
          "GetMyMedicalRecordsLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "GetMyMedicalRecordsLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationGetMyMedicalRecords": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"GetMyMedicalRecordsLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRouteGetMedicalDashrecordsMe": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "GET /medical-records/me",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationGetMyMedicalRecords"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationGetMyMedicalRecords"
          },
          "GetMyPrescriptionsLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "GetMyPrescriptionsLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationGetMyPrescriptions": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"GetMyPrescriptionsLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRouteGetPrescriptionsMe": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "GET /prescriptions/me",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationGetMyPrescriptions"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationGetMyPrescriptions"
          },
          "GetMyVitalSignsLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "GetMyVitalSignsLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationGetMyVitalSigns": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"GetMyVitalSignsLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRouteGetVitalDashsignsMe": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "GET /vital-signs/me",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationGetMyVitalSigns"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationGetMyVitalSigns"
          },
          "CreateVitalSignsLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "CreateVitalSignsLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationCreateVitalSigns": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"CreateVitalSignsLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRoutePostVitalDashsigns": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "POST /vital-signs",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationCreateVitalSigns"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationCreateVitalSigns"
          },
          "GetVitalSignsLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "GetVitalSignsLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationGetVitalSigns": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"GetVitalSignsLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRouteGetVitalDashsignsPatientPatientidVar": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "GET /vital-signs/patient/{patientId}",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationGetVitalSigns"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationGetVitalSigns"
          },
          "GetLatestVitalSignsLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "GetLatestVitalSignsLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationGetLatestVitalSigns": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"GetLatestVitalSignsLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRouteGetVitalDashsignsPatientPatientidVarLatest": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "GET /vital-signs/patient/{patientId}/latest",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationGetLatestVitalSigns"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationGetLatestVitalSigns"
          },
          "CreateMedicalRecordLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "CreateMedicalRecordLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationCreateMedicalRecord": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"CreateMedicalRecordLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRoutePostMedicalDashrecords": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "POST /medical-records",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationCreateMedicalRecord"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationCreateMedicalRecord"
          },
          "GetMedicalRecordLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "GetMedicalRecordLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationGetMedicalRecord": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"GetMedicalRecordLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRouteGetMedicalDashrecordsIdVar": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "GET /medical-records/{id}",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationGetMedicalRecord"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationGetMedicalRecord"
          },
          "GetMedicalRecordsByPatientLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "GetMedicalRecordsByPatientLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationGetMedicalRecordsByPatient": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"GetMedicalRecordsByPatientLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRouteGetMedicalDashrecordsPatientPatientidVar": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "GET /medical-records/patient/{patientId}",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationGetMedicalRecordsByPatient"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationGetMedicalRecordsByPatient"
          },
          "UpdateMedicalRecordLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "UpdateMedicalRecordLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationUpdateMedicalRecord": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"UpdateMedicalRecordLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRoutePutMedicalDashrecordsIdVar": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "PUT /medical-records/{id}",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationUpdateMedicalRecord"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationUpdateMedicalRecord"
          },
          "CreatePrescriptionLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "CreatePrescriptionLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationCreatePrescription": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"CreatePrescriptionLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRoutePostPrescriptions": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "POST /prescriptions",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationCreatePrescription"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationCreatePrescription"
          },
          "GetPrescriptionLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "GetPrescriptionLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationGetPrescription": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"GetPrescriptionLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRouteGetPrescriptionsIdVar": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "GET /prescriptions/{id}",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationGetPrescription"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationGetPrescription"
          },
          "GetPrescriptionsByPatientLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "GetPrescriptionsByPatientLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationGetPrescriptionsByPatient": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"GetPrescriptionsByPatientLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRouteGetPrescriptionsPatientPatientidVar": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "GET /prescriptions/patient/{patientId}",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationGetPrescriptionsByPatient"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationGetPrescriptionsByPatient"
          },
          "GetAuditLogsLambdaPermissionHttpApi": {
            "Type": "AWS::Lambda::Permission",
            "Properties": {
              "FunctionName": {
                "Fn::GetAtt": [
                  "GetAuditLogsLambdaFunction",
                  "Arn"
                ]
              },
              "Action": "lambda:InvokeFunction",
              "Principal": "apigateway.amazonaws.com",
              "SourceArn": {
                "Fn::Join": [
                  "",
                  [
                    "arn:",
                    {
                      "Ref": "AWS::Partition"
                    },
                    ":execute-api:",
                    {
                      "Ref": "AWS::Region"
                    },
                    ":",
                    {
                      "Ref": "AWS::AccountId"
                    },
                    ":",
                    {
                      "Ref": "HttpApi"
                    },
                    "/*"
                  ]
                ]
              }
            }
          },
          "HttpApiIntegrationGetAuditLogs": {
            "Type": "AWS::ApiGatewayV2::Integration",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "IntegrationType": "AWS_PROXY",
              "IntegrationUri": {
                "$ref": "$[\"service\"][\"provider\"][\"compiledCloudFormationTemplate\"][\"Resources\"][\"GetAuditLogsLambdaPermissionHttpApi\"][\"Properties\"][\"FunctionName\"]"
              },
              "PayloadFormatVersion": "2.0",
              "TimeoutInMillis": 30000
            }
          },
          "HttpApiRouteGetAuditDashlogs": {
            "Type": "AWS::ApiGatewayV2::Route",
            "Properties": {
              "ApiId": {
                "Ref": "HttpApi"
              },
              "RouteKey": "GET /audit-logs",
              "Target": {
                "Fn::Join": [
                  "/",
                  [
                    "integrations",
                    {
                      "Ref": "HttpApiIntegrationGetAuditLogs"
                    }
                  ]
                ]
              }
            },
            "DependsOn": "HttpApiIntegrationGetAuditLogs"
          }
        },
        "Outputs": {
          "ServerlessDeploymentBucketName": {
            "Value": {
              "Ref": "ServerlessDeploymentBucket"
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-ServerlessDeploymentBucketName"
            }
          },
          "WebauthnRegisterStartLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "WebauthnRegisterStartLambdaVersionyA45tkv5L8IUbrTktVHyFwubPdrsZ5RXcdrzfQojgQk"
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-WebauthnRegisterStartLambdaFunctionQualifiedArn"
            }
          },
          "WebauthnRegisterFinishLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "WebauthnRegisterFinishLambdaVersionaGmS2x6TQBBn5k6mMaG9f8IjNUl6V6c9B8lTj8TN6HE"
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-WebauthnRegisterFinishLambdaFunctionQualifiedArn"
            }
          },
          "WebauthnAuthStartLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "WebauthnAuthStartLambdaVersion5mpRs9uXLGbFFLaPX9pX1uz7rCQYttfrGKdLwoNod4"
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-WebauthnAuthStartLambdaFunctionQualifiedArn"
            }
          },
          "WebauthnAuthFinishLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "WebauthnAuthFinishLambdaVersion77apSoJDsyTACn5ZuYVxC0supEY214Jvu8sDD46q5U"
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-WebauthnAuthFinishLambdaFunctionQualifiedArn"
            }
          },
          "WebauthnGetCredentialsLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "WebauthnGetCredentialsLambdaVersionYVXETDYUp68Fgu3CouVRMveHSPD0LQWSHAIjAlq0qec"
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-WebauthnGetCredentialsLambdaFunctionQualifiedArn"
            }
          },
          "WebauthnDeleteCredentialLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "WebauthnDeleteCredentialLambdaVersionseIdZaeHno1y5ysLBzHwvWxScZH2iialNxP3hXflc0"
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-WebauthnDeleteCredentialLambdaFunctionQualifiedArn"
            }
          },
          "LoginLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "LoginLambdaVersionysFODrme2tRAnnxpkKNiwg3YljggoLgoq9Q4lr5O7YE"
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-LoginLambdaFunctionQualifiedArn"
            }
          },
          "ChangePasswordLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "ChangePasswordLambdaVersionvR4netYehyFsuQPcD9DkstGz07HepXS50fJigcauaE"
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-ChangePasswordLambdaFunctionQualifiedArn"
            }
          },
          "RefreshTokenLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "RefreshTokenLambdaVersioniRluCmLlHy8q8JJ3rIpeK047olqUonixzVOcLwKL4"
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-RefreshTokenLambdaFunctionQualifiedArn"
            }
          },
          "InitMFALambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "InitMFALambdaVersion2QDGa0r6Yw7y327a0NNqCM1y5dD4dSQGVcCl2x2UlA"
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-InitMFALambdaFunctionQualifiedArn"
            }
          },
          "VerifyMFALambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "VerifyMFALambdaVersionfWNLREaSn5JAAG7GMI6A0KLNSErWkrU8ba56q24"
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-VerifyMFALambdaFunctionQualifiedArn"
            }
          },
          "GetMFAStatusLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "GetMFAStatusLambdaVersionGqIHo1Ax61Y1DydGJKd4GNR7FZQtcHdgH7APn1HixSc"
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-GetMFAStatusLambdaFunctionQualifiedArn"
            }
          },
          "CreateUserLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "CreateUserLambdaVersionJIjzD8jmFYn4dHsHr4wHgiWYYjLaV81Afan7wEIN0"
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-CreateUserLambdaFunctionQualifiedArn"
            }
          },
          "ListUsersLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "ListUsersLambdaVersionmOG6FjTh9cDNZIMuxpvSIUz3D8jVCsDCCJADyqy8gA"
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-ListUsersLambdaFunctionQualifiedArn"
            }
          },
          "DisableUserLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "DisableUserLambdaVersionVkpWLlaxLefYAEUFhELHBc3VQG3KHDpglwNUuu6XLag"
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-DisableUserLambdaFunctionQualifiedArn"
            }
          },
          "ResetUserPasswordLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "ResetUserPasswordLambdaVersionM49E68mu8aipzPk799NaBhgo3EK3bES932QcQ1Ue0"
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-ResetUserPasswordLambdaFunctionQualifiedArn"
            }
          },
          "CreatePatientLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "CreatePatientLambdaVersion74StEwS9uuzQV2jUuJr7j7VArYlGa7WzGhWBHvXsQk"
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-CreatePatientLambdaFunctionQualifiedArn"
            }
          },
          "GetPatientLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "GetPatientLambdaVersionrtjc2WgD6emPdjr4K5oNqrzuzdl8CGVk1JDbQ5B9C4"
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-GetPatientLambdaFunctionQualifiedArn"
            }
          },
          "SearchPatientsLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "SearchPatientsLambdaVersionTPgRPMdywsdQabxFEZvkPRP1TThuRUHo01Ym4CwcjBk"
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-SearchPatientsLambdaFunctionQualifiedArn"
            }
          },
          "UpdatePatientLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "UpdatePatientLambdaVersionc3ktgRAVlnRuhAyT6ny4uMtPtfpZ4rRLz5gFpDG1PW8"
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-UpdatePatientLambdaFunctionQualifiedArn"
            }
          },
          "GetMyProfileLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "GetMyProfileLambdaVersionub9coff2I4Apj9SOgwZlpvfiN7nSX7W4hsYhvlnFVFY"
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-GetMyProfileLambdaFunctionQualifiedArn"
            }
          },
          "GetMyMedicalRecordsLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "GetMyMedicalRecordsLambdaVersionjLTeftFatyxGT58HqIFAF8sn5XeOaxhtrT8OdsN6G4"
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-GetMyMedicalRecordsLambdaFunctionQualifiedArn"
            }
          },
          "GetMyPrescriptionsLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "GetMyPrescriptionsLambdaVersionIMrBfL30ej3CH2dI9M2efahb0qhhiPyG3zmzLRALmpU"
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-GetMyPrescriptionsLambdaFunctionQualifiedArn"
            }
          },
          "GetMyVitalSignsLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "GetMyVitalSignsLambdaVersion7LbdjTRcnaVAxf3UcUtdNTMYqjkKUwYhdnHllTQpw"
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-GetMyVitalSignsLambdaFunctionQualifiedArn"
            }
          },
          "CreateVitalSignsLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "CreateVitalSignsLambdaVersionY3OkISXAsYbssTEhb5KXNg7U3m2sTbaVNSWqb39cU"
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-CreateVitalSignsLambdaFunctionQualifiedArn"
            }
          },
          "GetVitalSignsLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "GetVitalSignsLambdaVersion5K277A6Kc3iqJH0MNGSGmD0he7MDJek8l6tUDReIY"
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-GetVitalSignsLambdaFunctionQualifiedArn"
            }
          },
          "GetLatestVitalSignsLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "GetLatestVitalSignsLambdaVersionKO1t9QdpA6lS62dCrx7BC28VlZOb7k051CFHRPoYqE8"
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-GetLatestVitalSignsLambdaFunctionQualifiedArn"
            }
          },
          "CreateMedicalRecordLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "CreateMedicalRecordLambdaVersionhDv2SE9KkMQPv6CjOKJ0jnuSEoYRSejyp85hsiNR4b0"
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-CreateMedicalRecordLambdaFunctionQualifiedArn"
            }
          },
          "GetMedicalRecordLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "GetMedicalRecordLambdaVersionL8cyZzc6tyTOPGl5YbgoISYCrRTMoCgbTKzqPz83k"
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-GetMedicalRecordLambdaFunctionQualifiedArn"
            }
          },
          "GetMedicalRecordsByPatientLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "GetMedicalRecordsByPatientLambdaVersionDd21dV7aXkkg0rT9MQZuuwWCq31Ajoihz1gPYo9baQ"
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-GetMedicalRecordsByPatientLambdaFunctionQualifiedArn"
            }
          },
          "UpdateMedicalRecordLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "UpdateMedicalRecordLambdaVersion0DMqEyxvkP5yWllTSXXwPdhGQa7z3QY76UGa6nXDpY"
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-UpdateMedicalRecordLambdaFunctionQualifiedArn"
            }
          },
          "CreatePrescriptionLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "CreatePrescriptionLambdaVersioniZiD7XVMAwPefN86rOaFvfQoy8Un8U4KBvBEmsM4TY8"
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-CreatePrescriptionLambdaFunctionQualifiedArn"
            }
          },
          "GetPrescriptionLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "GetPrescriptionLambdaVersionEGVoxl8qLWdqmNwNwEXzk88seAbGYNpRlZ8fTju2lc"
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-GetPrescriptionLambdaFunctionQualifiedArn"
            }
          },
          "GetPrescriptionsByPatientLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "GetPrescriptionsByPatientLambdaVersionQHvgD0mkYP0Z00JmInXacQyi0cIXRHWCxkshI81Zo"
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-GetPrescriptionsByPatientLambdaFunctionQualifiedArn"
            }
          },
          "GetAuditLogsLambdaFunctionQualifiedArn": {
            "Description": "Current Lambda function version",
            "Value": {
              "Ref": "GetAuditLogsLambdaVersionukAGKSPmW1LzOFQxPsHJ3PWkoOv7ZINZLUTig"
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-GetAuditLogsLambdaFunctionQualifiedArn"
            }
          },
          "HttpApiId": {
            "Description": "Id of the HTTP API",
            "Value": {
              "Ref": "HttpApi"
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-HttpApiId"
            }
          },
          "HttpApiUrl": {
            "Description": "URL of the HTTP API",
            "Value": {
              "Fn::Join": [
                "",
                [
                  "https://",
                  {
                    "Ref": "HttpApi"
                  },
                  ".execute-api.",
                  {
                    "Ref": "AWS::Region"
                  },
                  ".",
                  {
                    "Ref": "AWS::URLSuffix"
                  }
                ]
              ]
            },
            "Export": {
              "Name": "sls-ehr-backend-api-dev-HttpApiUrl"
            }
          }
        }
      },
      "coreCloudFormationTemplate": {
        "AWSTemplateFormatVersion": "2010-09-09",
        "Description": "The AWS CloudFormation template for this Serverless application",
        "Resources": {
          "ServerlessDeploymentBucket": {
            "Type": "AWS::S3::Bucket",
            "Properties": {
              "BucketEncryption": {
                "ServerSideEncryptionConfiguration": [
                  {
                    "ServerSideEncryptionByDefault": {
                      "SSEAlgorithm": "AES256"
                    }
                  }
                ]
              }
            }
          },
          "ServerlessDeploymentBucketPolicy": {
            "Type": "AWS::S3::BucketPolicy",
            "Properties": {
              "Bucket": {
                "Ref": "ServerlessDeploymentBucket"
              },
              "PolicyDocument": {
                "Statement": [
                  {
                    "Action": "s3:*",
                    "Effect": "Deny",
                    "Principal": "*",
                    "Resource": [
                      {
                        "Fn::Join": [
                          "",
                          [
                            "arn:",
                            {
                              "Ref": "AWS::Partition"
                            },
                            ":s3:::",
                            {
                              "Ref": "ServerlessDeploymentBucket"
                            },
                            "/*"
                          ]
                        ]
                      },
                      {
                        "Fn::Join": [
                          "",
                          [
                            "arn:",
                            {
                              "Ref": "AWS::Partition"
                            },
                            ":s3:::",
                            {
                              "Ref": "ServerlessDeploymentBucket"
                            }
                          ]
                        ]
                      }
                    ],
                    "Condition": {
                      "Bool": {
                        "aws:SecureTransport": false
                      }
                    }
                  }
                ]
              }
            }
          }
        },
        "Outputs": {
          "ServerlessDeploymentBucketName": {
            "Value": {
              "Ref": "ServerlessDeploymentBucket"
            }
          }
        }
      },
      "vpc": {}
    },
    "custom": {
      "JWT_SECRET": "EHR_SYSTEM_WEBAUTHN_SECRET_KEY_2025_SECURE_TOKEN_CHANGE_IN_PRODUCTION"
    },
    "plugins": [
      "serverless-offline",
      "serverless-dotenv-plugin"
    ],
    "pluginsData": {},
    "functions": {
      "webauthnRegisterStart": {
        "handler": "handlers/webauthn.startRegistration",
        "events": [
          {
            "httpApi": {
              "path": "/webauthn/register/start",
              "method": "post"
            },
            "resolvedMethod": "POST",
            "resolvedPath": "/webauthn/register/start"
          }
        ],
        "name": "ehr-backend-api-dev-webauthnRegisterStart",
        "package": {},
        "memory": 512,
        "timeout": 30,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "WebauthnRegisterStartLambdaVersionyA45tkv5L8IUbrTktVHyFwubPdrsZ5RXcdrzfQojgQk"
      },
      "webauthnRegisterFinish": {
        "handler": "handlers/webauthn.finishRegistration",
        "events": [
          {
            "httpApi": {
              "path": "/webauthn/register/finish",
              "method": "post"
            },
            "resolvedMethod": "POST",
            "resolvedPath": "/webauthn/register/finish"
          }
        ],
        "name": "ehr-backend-api-dev-webauthnRegisterFinish",
        "package": {},
        "memory": 512,
        "timeout": 30,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "WebauthnRegisterFinishLambdaVersionaGmS2x6TQBBn5k6mMaG9f8IjNUl6V6c9B8lTj8TN6HE"
      },
      "webauthnAuthStart": {
        "handler": "handlers/webauthn.startAuthentication",
        "events": [
          {
            "httpApi": {
              "path": "/webauthn/auth/start",
              "method": "post"
            },
            "resolvedMethod": "POST",
            "resolvedPath": "/webauthn/auth/start"
          }
        ],
        "name": "ehr-backend-api-dev-webauthnAuthStart",
        "package": {},
        "memory": 512,
        "timeout": 30,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "WebauthnAuthStartLambdaVersion5mpRs9uXLGbFFLaPX9pX1uz7rCQYttfrGKdLwoNod4"
      },
      "webauthnAuthFinish": {
        "handler": "handlers/webauthn.finishAuthentication",
        "events": [
          {
            "httpApi": {
              "path": "/webauthn/auth/finish",
              "method": "post"
            },
            "resolvedMethod": "POST",
            "resolvedPath": "/webauthn/auth/finish"
          }
        ],
        "name": "ehr-backend-api-dev-webauthnAuthFinish",
        "package": {},
        "memory": 512,
        "timeout": 30,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "WebauthnAuthFinishLambdaVersion77apSoJDsyTACn5ZuYVxC0supEY214Jvu8sDD46q5U"
      },
      "webauthnGetCredentials": {
        "handler": "handlers/webauthn.getCredentials",
        "events": [
          {
            "httpApi": {
              "path": "/webauthn/credentials",
              "method": "get"
            },
            "resolvedMethod": "GET",
            "resolvedPath": "/webauthn/credentials"
          }
        ],
        "name": "ehr-backend-api-dev-webauthnGetCredentials",
        "package": {},
        "memory": 512,
        "timeout": 30,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "WebauthnGetCredentialsLambdaVersionYVXETDYUp68Fgu3CouVRMveHSPD0LQWSHAIjAlq0qec"
      },
      "webauthnDeleteCredential": {
        "handler": "handlers/webauthn.deleteCredential",
        "events": [
          {
            "httpApi": {
              "path": "/webauthn/credentials/{id}",
              "method": "delete"
            },
            "resolvedMethod": "DELETE",
            "resolvedPath": "/webauthn/credentials/{id}"
          }
        ],
        "name": "ehr-backend-api-dev-webauthnDeleteCredential",
        "package": {},
        "memory": 512,
        "timeout": 30,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "WebauthnDeleteCredentialLambdaVersionseIdZaeHno1y5ysLBzHwvWxScZH2iialNxP3hXflc0"
      },
      "login": {
        "handler": "handlers/auth.login",
        "events": [
          {
            "httpApi": {
              "path": "/auth/login",
              "method": "post"
            },
            "resolvedMethod": "POST",
            "resolvedPath": "/auth/login"
          }
        ],
        "name": "ehr-backend-api-dev-login",
        "package": {},
        "memory": 512,
        "timeout": 30,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "LoginLambdaVersionysFODrme2tRAnnxpkKNiwg3YljggoLgoq9Q4lr5O7YE"
      },
      "changePassword": {
        "handler": "handlers/auth.changePassword",
        "events": [
          {
            "httpApi": {
              "path": "/auth/change-password",
              "method": "post"
            },
            "resolvedMethod": "POST",
            "resolvedPath": "/auth/change-password"
          }
        ],
        "name": "ehr-backend-api-dev-changePassword",
        "package": {},
        "memory": 512,
        "timeout": 30,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "ChangePasswordLambdaVersionvR4netYehyFsuQPcD9DkstGz07HepXS50fJigcauaE"
      },
      "refreshToken": {
        "handler": "handlers/auth.refreshToken",
        "events": [
          {
            "httpApi": {
              "path": "/auth/refresh",
              "method": "post"
            },
            "resolvedMethod": "POST",
            "resolvedPath": "/auth/refresh"
          }
        ],
        "name": "ehr-backend-api-dev-refreshToken",
        "package": {},
        "memory": 512,
        "timeout": 30,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "RefreshTokenLambdaVersioniRluCmLlHy8q8JJ3rIpeK047olqUonixzVOcLwKL4"
      },
      "initMFA": {
        "handler": "handlers/mfa.initMFA",
        "events": [
          {
            "httpApi": {
              "path": "/mfa/init",
              "method": "post"
            },
            "resolvedMethod": "POST",
            "resolvedPath": "/mfa/init"
          }
        ],
        "name": "ehr-backend-api-dev-initMFA",
        "package": {},
        "memory": 512,
        "timeout": 30,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "InitMFALambdaVersion2QDGa0r6Yw7y327a0NNqCM1y5dD4dSQGVcCl2x2UlA"
      },
      "verifyMFA": {
        "handler": "handlers/mfa.verifyMFA",
        "events": [
          {
            "httpApi": {
              "path": "/mfa/verify",
              "method": "post"
            },
            "resolvedMethod": "POST",
            "resolvedPath": "/mfa/verify"
          }
        ],
        "name": "ehr-backend-api-dev-verifyMFA",
        "package": {},
        "memory": 512,
        "timeout": 30,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "VerifyMFALambdaVersionfWNLREaSn5JAAG7GMI6A0KLNSErWkrU8ba56q24"
      },
      "getMFAStatus": {
        "handler": "handlers/mfa.getMFAStatus",
        "events": [
          {
            "httpApi": {
              "path": "/mfa/status/{userId}",
              "method": "get"
            },
            "resolvedMethod": "GET",
            "resolvedPath": "/mfa/status/{userId}"
          }
        ],
        "name": "ehr-backend-api-dev-getMFAStatus",
        "package": {},
        "memory": 512,
        "timeout": 30,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "GetMFAStatusLambdaVersionGqIHo1Ax61Y1DydGJKd4GNR7FZQtcHdgH7APn1HixSc"
      },
      "createUser": {
        "handler": "handlers/users.createUser",
        "events": [
          {
            "httpApi": {
              "path": "/users",
              "method": "post"
            },
            "resolvedMethod": "POST",
            "resolvedPath": "/users"
          }
        ],
        "name": "ehr-backend-api-dev-createUser",
        "package": {},
        "memory": 512,
        "timeout": 30,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "CreateUserLambdaVersionJIjzD8jmFYn4dHsHr4wHgiWYYjLaV81Afan7wEIN0"
      },
      "listUsers": {
        "handler": "handlers/users.listUsers",
        "events": [
          {
            "httpApi": {
              "path": "/users",
              "method": "get"
            },
            "resolvedMethod": "GET",
            "resolvedPath": "/users"
          }
        ],
        "name": "ehr-backend-api-dev-listUsers",
        "package": {},
        "memory": 512,
        "timeout": 30,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "ListUsersLambdaVersionmOG6FjTh9cDNZIMuxpvSIUz3D8jVCsDCCJADyqy8gA"
      },
      "disableUser": {
        "handler": "handlers/users.disableUser",
        "events": [
          {
            "httpApi": {
              "path": "/users/{id}/disable",
              "method": "put"
            },
            "resolvedMethod": "PUT",
            "resolvedPath": "/users/{id}/disable"
          }
        ],
        "name": "ehr-backend-api-dev-disableUser",
        "package": {},
        "memory": 512,
        "timeout": 30,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "DisableUserLambdaVersionVkpWLlaxLefYAEUFhELHBc3VQG3KHDpglwNUuu6XLag"
      },
      "resetUserPassword": {
        "handler": "handlers/users.resetPassword",
        "events": [
          {
            "httpApi": {
              "path": "/users/{id}/reset-password",
              "method": "post"
            },
            "resolvedMethod": "POST",
            "resolvedPath": "/users/{id}/reset-password"
          }
        ],
        "name": "ehr-backend-api-dev-resetUserPassword",
        "package": {},
        "memory": 512,
        "timeout": 30,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "ResetUserPasswordLambdaVersionM49E68mu8aipzPk799NaBhgo3EK3bES932QcQ1Ue0"
      },
      "createPatient": {
        "handler": "handlers/patients.create",
        "events": [
          {
            "httpApi": {
              "path": "/patients",
              "method": "post"
            },
            "resolvedMethod": "POST",
            "resolvedPath": "/patients"
          }
        ],
        "name": "ehr-backend-api-dev-createPatient",
        "package": {},
        "memory": 512,
        "timeout": 30,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "CreatePatientLambdaVersion74StEwS9uuzQV2jUuJr7j7VArYlGa7WzGhWBHvXsQk"
      },
      "getPatient": {
        "handler": "handlers/patients.getById",
        "events": [
          {
            "httpApi": {
              "path": "/patients/{id}",
              "method": "get"
            },
            "resolvedMethod": "GET",
            "resolvedPath": "/patients/{id}"
          }
        ],
        "name": "ehr-backend-api-dev-getPatient",
        "package": {},
        "memory": 512,
        "timeout": 30,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "GetPatientLambdaVersionrtjc2WgD6emPdjr4K5oNqrzuzdl8CGVk1JDbQ5B9C4"
      },
      "searchPatients": {
        "handler": "handlers/patients.search",
        "events": [
          {
            "httpApi": {
              "path": "/patients/search",
              "method": "get"
            },
            "resolvedMethod": "GET",
            "resolvedPath": "/patients/search"
          }
        ],
        "name": "ehr-backend-api-dev-searchPatients",
        "package": {},
        "memory": 512,
        "timeout": 30,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "SearchPatientsLambdaVersionTPgRPMdywsdQabxFEZvkPRP1TThuRUHo01Ym4CwcjBk"
      },
      "updatePatient": {
        "handler": "handlers/patients.update",
        "events": [
          {
            "httpApi": {
              "path": "/patients/{id}",
              "method": "put"
            },
            "resolvedMethod": "PUT",
            "resolvedPath": "/patients/{id}"
          }
        ],
        "name": "ehr-backend-api-dev-updatePatient",
        "package": {},
        "memory": 512,
        "timeout": 30,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "UpdatePatientLambdaVersionc3ktgRAVlnRuhAyT6ny4uMtPtfpZ4rRLz5gFpDG1PW8"
      },
      "getMyProfile": {
        "handler": "handlers/patientPortal.getMyProfile",
        "events": [
          {
            "httpApi": {
              "path": "/patients/me",
              "method": "get"
            },
            "resolvedMethod": "GET",
            "resolvedPath": "/patients/me"
          }
        ],
        "name": "ehr-backend-api-dev-getMyProfile",
        "package": {},
        "memory": 512,
        "timeout": 30,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "GetMyProfileLambdaVersionub9coff2I4Apj9SOgwZlpvfiN7nSX7W4hsYhvlnFVFY"
      },
      "getMyMedicalRecords": {
        "handler": "handlers/patientPortal.getMyMedicalRecords",
        "events": [
          {
            "httpApi": {
              "path": "/medical-records/me",
              "method": "get"
            },
            "resolvedMethod": "GET",
            "resolvedPath": "/medical-records/me"
          }
        ],
        "name": "ehr-backend-api-dev-getMyMedicalRecords",
        "package": {},
        "memory": 512,
        "timeout": 30,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "GetMyMedicalRecordsLambdaVersionjLTeftFatyxGT58HqIFAF8sn5XeOaxhtrT8OdsN6G4"
      },
      "getMyPrescriptions": {
        "handler": "handlers/patientPortal.getMyPrescriptions",
        "events": [
          {
            "httpApi": {
              "path": "/prescriptions/me",
              "method": "get"
            },
            "resolvedMethod": "GET",
            "resolvedPath": "/prescriptions/me"
          }
        ],
        "name": "ehr-backend-api-dev-getMyPrescriptions",
        "package": {},
        "memory": 512,
        "timeout": 30,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "GetMyPrescriptionsLambdaVersionIMrBfL30ej3CH2dI9M2efahb0qhhiPyG3zmzLRALmpU"
      },
      "getMyVitalSigns": {
        "handler": "handlers/patientPortal.getMyVitalSigns",
        "events": [
          {
            "httpApi": {
              "path": "/vital-signs/me",
              "method": "get"
            },
            "resolvedMethod": "GET",
            "resolvedPath": "/vital-signs/me"
          }
        ],
        "name": "ehr-backend-api-dev-getMyVitalSigns",
        "package": {},
        "memory": 512,
        "timeout": 30,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "GetMyVitalSignsLambdaVersion7LbdjTRcnaVAxf3UcUtdNTMYqjkKUwYhdnHllTQpw"
      },
      "createVitalSigns": {
        "handler": "handlers/vitalSigns.create",
        "events": [
          {
            "httpApi": {
              "path": "/vital-signs",
              "method": "post"
            },
            "resolvedMethod": "POST",
            "resolvedPath": "/vital-signs"
          }
        ],
        "name": "ehr-backend-api-dev-createVitalSigns",
        "package": {},
        "memory": 512,
        "timeout": 30,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "CreateVitalSignsLambdaVersionY3OkISXAsYbssTEhb5KXNg7U3m2sTbaVNSWqb39cU"
      },
      "getVitalSigns": {
        "handler": "handlers/vitalSigns.getByPatient",
        "events": [
          {
            "httpApi": {
              "path": "/vital-signs/patient/{patientId}",
              "method": "get"
            },
            "resolvedMethod": "GET",
            "resolvedPath": "/vital-signs/patient/{patientId}"
          }
        ],
        "name": "ehr-backend-api-dev-getVitalSigns",
        "package": {},
        "memory": 512,
        "timeout": 30,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "GetVitalSignsLambdaVersion5K277A6Kc3iqJH0MNGSGmD0he7MDJek8l6tUDReIY"
      },
      "getLatestVitalSigns": {
        "handler": "handlers/vitalSigns.getLatest",
        "events": [
          {
            "httpApi": {
              "path": "/vital-signs/patient/{patientId}/latest",
              "method": "get"
            },
            "resolvedMethod": "GET",
            "resolvedPath": "/vital-signs/patient/{patientId}/latest"
          }
        ],
        "name": "ehr-backend-api-dev-getLatestVitalSigns",
        "package": {},
        "memory": 512,
        "timeout": 30,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "GetLatestVitalSignsLambdaVersionKO1t9QdpA6lS62dCrx7BC28VlZOb7k051CFHRPoYqE8"
      },
      "createMedicalRecord": {
        "handler": "handlers/medicalRecords.create",
        "events": [
          {
            "httpApi": {
              "path": "/medical-records",
              "method": "post"
            },
            "resolvedMethod": "POST",
            "resolvedPath": "/medical-records"
          }
        ],
        "name": "ehr-backend-api-dev-createMedicalRecord",
        "package": {},
        "memory": 512,
        "timeout": 30,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "CreateMedicalRecordLambdaVersionhDv2SE9KkMQPv6CjOKJ0jnuSEoYRSejyp85hsiNR4b0"
      },
      "getMedicalRecord": {
        "handler": "handlers/medicalRecords.getById",
        "events": [
          {
            "httpApi": {
              "path": "/medical-records/{id}",
              "method": "get"
            },
            "resolvedMethod": "GET",
            "resolvedPath": "/medical-records/{id}"
          }
        ],
        "name": "ehr-backend-api-dev-getMedicalRecord",
        "package": {},
        "memory": 512,
        "timeout": 30,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "GetMedicalRecordLambdaVersionL8cyZzc6tyTOPGl5YbgoISYCrRTMoCgbTKzqPz83k"
      },
      "getMedicalRecordsByPatient": {
        "handler": "handlers/medicalRecords.getByPatient",
        "events": [
          {
            "httpApi": {
              "path": "/medical-records/patient/{patientId}",
              "method": "get"
            },
            "resolvedMethod": "GET",
            "resolvedPath": "/medical-records/patient/{patientId}"
          }
        ],
        "name": "ehr-backend-api-dev-getMedicalRecordsByPatient",
        "package": {},
        "memory": 512,
        "timeout": 30,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "GetMedicalRecordsByPatientLambdaVersionDd21dV7aXkkg0rT9MQZuuwWCq31Ajoihz1gPYo9baQ"
      },
      "updateMedicalRecord": {
        "handler": "handlers/medicalRecords.update",
        "events": [
          {
            "httpApi": {
              "path": "/medical-records/{id}",
              "method": "put"
            },
            "resolvedMethod": "PUT",
            "resolvedPath": "/medical-records/{id}"
          }
        ],
        "name": "ehr-backend-api-dev-updateMedicalRecord",
        "package": {},
        "memory": 512,
        "timeout": 30,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "UpdateMedicalRecordLambdaVersion0DMqEyxvkP5yWllTSXXwPdhGQa7z3QY76UGa6nXDpY"
      },
      "createPrescription": {
        "handler": "handlers/prescriptions.create",
        "events": [
          {
            "httpApi": {
              "path": "/prescriptions",
              "method": "post"
            },
            "resolvedMethod": "POST",
            "resolvedPath": "/prescriptions"
          }
        ],
        "name": "ehr-backend-api-dev-createPrescription",
        "package": {},
        "memory": 512,
        "timeout": 30,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "CreatePrescriptionLambdaVersioniZiD7XVMAwPefN86rOaFvfQoy8Un8U4KBvBEmsM4TY8"
      },
      "getPrescription": {
        "handler": "handlers/prescriptions.getById",
        "events": [
          {
            "httpApi": {
              "path": "/prescriptions/{id}",
              "method": "get"
            },
            "resolvedMethod": "GET",
            "resolvedPath": "/prescriptions/{id}"
          }
        ],
        "name": "ehr-backend-api-dev-getPrescription",
        "package": {},
        "memory": 512,
        "timeout": 30,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "GetPrescriptionLambdaVersionEGVoxl8qLWdqmNwNwEXzk88seAbGYNpRlZ8fTju2lc"
      },
      "getPrescriptionsByPatient": {
        "handler": "handlers/prescriptions.getByPatient",
        "events": [
          {
            "httpApi": {
              "path": "/prescriptions/patient/{patientId}",
              "method": "get"
            },
            "resolvedMethod": "GET",
            "resolvedPath": "/prescriptions/patient/{patientId}"
          }
        ],
        "name": "ehr-backend-api-dev-getPrescriptionsByPatient",
        "package": {},
        "memory": 512,
        "timeout": 30,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "GetPrescriptionsByPatientLambdaVersionQHvgD0mkYP0Z00JmInXacQyi0cIXRHWCxkshI81Zo"
      },
      "getAuditLogs": {
        "handler": "handlers/auditLogs.getLogs",
        "events": [
          {
            "httpApi": {
              "path": "/audit-logs",
              "method": "get"
            },
            "resolvedMethod": "GET",
            "resolvedPath": "/audit-logs"
          }
        ],
        "name": "ehr-backend-api-dev-getAuditLogs",
        "package": {},
        "memory": 512,
        "timeout": 30,
        "runtime": "nodejs20.x",
        "vpc": {},
        "versionLogicalId": "GetAuditLogsLambdaVersionukAGKSPmW1LzOFQxPsHJ3PWkoOv7ZINZLUTig"
      }
    },
    "configValidationMode": "warn",
    "serviceFilename": "serverless.yml",
    "initialServerlessConfig": {
      "service": "ehr-backend-api",
      "frameworkVersion": "3",
      "useDotenv": true,
      "provider": {
        "$ref": "$[\"service\"][\"provider\"]"
      },
      "plugins": {
        "$ref": "$[\"service\"][\"plugins\"]"
      },
      "custom": {
        "$ref": "$[\"service\"][\"custom\"]"
      },
      "functions": {
        "$ref": "$[\"service\"][\"functions\"]"
      },
      "package": {
        "individually": false,
        "patterns": [
          "!.git/**",
          "!test/**",
          "!.env.example",
          "!README.md"
        ],
        "artifactsS3KeyDirname": "serverless/ehr-backend-api/dev/code-artifacts",
        "artifact": "D:\\Workspace\\DuAnCNTT2025_2026\\2_11_DuAnCNTT\\ehr-system\\backend\\.serverless\\ehr-backend-api.zip",
        "artifactDirectoryName": "serverless/ehr-backend-api/dev/1766608061043-2025-12-24T20:27:41.043Z"
      }
    },
    "layers": {},
    "isDashboardMonitoringPreconfigured": false,
    "artifact": "D:\\Workspace\\DuAnCNTT2025_2026\\2_11_DuAnCNTT\\ehr-system\\backend\\.serverless\\ehr-backend-api.zip"
  },
  "package": {
    "individually": false,
    "artifactDirectoryName": "serverless/ehr-backend-api/dev/1766608061043-2025-12-24T20:27:41.043Z",
    "artifact": "ehr-backend-api.zip"
  }
}